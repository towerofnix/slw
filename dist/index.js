!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(e,r,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():r[e]=a()}("Please",this,function(){"use strict";function e(){function e(e,r,a){var o=Math.random;return a instanceof l&&(o=a.random),Math.floor(o()*(r-e+1))+e}function r(e,r,a){var o=Math.random;return a instanceof l&&(o=a.random),o()*(r-e)+e}function a(e,r,a){return Math.max(r,Math.min(e,a))}function o(e,r){var a;switch(e){case"hex":for(a=0;a<r.length;a++)r[a]=F.HSV_to_HEX(r[a]);break;case"rgb":for(a=0;a<r.length;a++)r[a]=F.HSV_to_RGB(r[a]);break;case"rgb-string":for(a=0;a<r.length;a++){var o=F.HSV_to_RGB(r[a]);r[a]="rgb("+o.r+","+o.g+","+o.b+")"}break;case"hsv":break;default:console.error("Format not recognized.")}return r}function n(e){var r=F.HSV_to_RGB(e),a=(299*r.r+587*r.g+114*r.b)/1e3;return a>=128?"dark":"light"}function t(e){var r={};for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);return r}function l(e){function r(){o=(o+1)%256,n=(n+a[o])%256;var e=a[o];return a[o]=a[n],a[n]=e,a[(a[o]+a[n])%256]}for(var a=[],o=0,n=0,t=0;256>t;t++)a[t]=t;for(var l=0,F=0;256>l;l++){F=(F+a[l]+e.charCodeAt(l%e.length))%256;var s=a[l];a[l]=a[F],a[F]=s}this.random=function(){for(var e=0,a=0,o=1;8>e;e++)a+=r()*o,o*=256;return a/0x10000000000000000}}var F={},s={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",green:"008000",greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",lightgreen:"90EE90",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370D8",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"D87093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",rebeccapurple:"663399",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"},i=.618033988749895,u={hue:null,saturation:null,value:null,base_color:"",greyscale:!1,grayscale:!1,golden:!0,full_random:!1,colors_returned:1,format:"hex",seed:null},c={scheme_type:"analogous",format:"hex"},h={golden:!1,format:"hex"};return F.NAME_to_HEX=function(e){return e=e.toLowerCase(),e in s?s[e]:void console.error("Color name not recognized.")},F.NAME_to_RGB=function(e){return F.HEX_to_RGB(F.NAME_to_HEX(e))},F.NAME_to_HSV=function(e){return F.HEX_to_HSV(F.NAME_to_HEX(e))},F.HEX_to_RGB=function(e){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(r,function(e,r,a,o){return r+r+a+a+o+o});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},F.RGB_to_HEX=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},F.HSV_to_RGB=function(e){var r,a,o,n,t,l,F,s,i=e.h,u=e.s,c=e.v;if(0===u)return{r:c,g:c,b:c};switch(i/=60,n=Math.floor(i),t=i-n,l=c*(1-u),F=c*(1-u*t),s=c*(1-u*(1-t)),n){case 0:r=c,a=s,o=l;break;case 1:r=F,a=c,o=l;break;case 2:r=l,a=c,o=s;break;case 3:r=l,a=F,o=c;break;case 4:r=s,a=l,o=c;break;case 5:r=c,a=l,o=F}return{r:Math.floor(255*r),g:Math.floor(255*a),b:Math.floor(255*o)}},F.RGB_to_HSV=function(e){var r=e.r/255,a=e.g/255,o=e.b/255,n=0,t=0,l=0,F=Math.min(r,Math.min(a,o)),s=Math.max(r,Math.max(a,o));if(F===s)return l=F,{h:0,s:0,v:l};var i=r===F?a-o:o===F?r-a:o-r,u=r===F?3:o===F?1:5;return n=60*(u-i/(s-F)),t=(s-F)/s,l=s,{h:n,s:t,v:l}},F.HSV_to_HEX=function(e){return F.RGB_to_HEX(F.HSV_to_RGB(e))},F.HEX_to_HSV=function(e){return F.RGB_to_HSV(F.HEX_to_RGB(e))},F.make_scheme=function(e,r){function n(e){return{h:e.h,s:e.s,v:e.v}}var l,F,s,i,u,h=t(c);if(null!==r)for(var d in r)r.hasOwnProperty(d)&&(h[d]=r[d]);var g=[e];switch(h.scheme_type.toLowerCase()){case"monochromatic":case"mono":for(u=1;2>=u;u++)l=n(e),s=l.s+.1*u,s=a(s,0,1),i=l.v+.1*u,i=a(i,0,1),l.s=s,l.v=i,g.push(l);for(u=1;2>=u;u++)l=n(e),s=l.s-.1*u,s=a(s,0,1),i=l.v-.1*u,i=a(i,0,1),l.s=s,l.v=i,g.push(l);break;case"complementary":case"complement":case"comp":l=n(e),l.h=(l.h+180)%360,g.push(l);break;case"split-complementary":case"split-complement":case"split":l=n(e),l.h=(l.h+165)%360,g.push(l),l=n(e),l.h=Math.abs((l.h-165)%360),g.push(l);break;case"double-complementary":case"double-complement":case"double":l=n(e),l.h=(l.h+180)%360,g.push(l),l.h=(l.h+30)%360,F=n(l),g.push(l),l.h=(l.h+180)%360,g.push(F);break;case"analogous":case"ana":for(u=1;5>=u;u++)l=n(e),l.h=(l.h+20*u)%360,g.push(l);break;case"triadic":case"triad":case"tri":for(u=1;3>u;u++)l=n(e),l.h=(l.h+120*u)%360,g.push(l);break;default:console.error("Color scheme not recognized.")}return o(h.format.toLowerCase(),g),g},F.make_color=function(n){var s=[],c=t(u),h=null;if(null!==n)for(var d in n)n.hasOwnProperty(d)&&(c[d]=n[d]);var g=null;"string"==typeof c.seed&&(g=new l(c.seed)),c.base_color.length>0&&(h=c.base_color.match(/^#?([0-9a-f]{3})([0-9a-f]{3})?$/i)?F.HEX_to_HSV(c.base_color):F.NAME_to_HSV(c.base_color));for(var m=0;m<c.colors_returned;m++){var f,E,b,p=e(0,360,g);null!==h?(f=a(e(h.h-5,h.h+5,g),0,360),E=0===h.s?0:r(.4,.85,g),b=r(.4,.85,g),s.push({h:f,s:E,v:b})):(f=c.greyscale===!0||c.grayscale===!0?0:c.golden===!0?(p+p/i)%360:null===c.hue||c.full_random===!0?p:a(c.hue,0,360),E=c.greyscale===!0||c.grayscale===!0?0:c.full_random===!0?r(0,1,g):null===c.saturation?.4:a(c.saturation,0,1),b=c.full_random===!0?r(0,1,g):c.greyscale===!0||c.grayscale===!0?r(.15,.75,g):null===c.value?.75:a(c.value,0,1),s.push({h:f,s:E,v:b}))}return o(c.format.toLowerCase(),s),s},F.make_contrast=function(e,r){var l=t(h);if(null!==r)for(var s in r)r.hasOwnProperty(s)&&(l[s]=r[s]);var u,c,d=n(e);if(l.golden===!0)c=e.h*(1+i)%360;else{var g=F.make_scheme(e,{scheme_type:"complementary",format:"hsv"})[1];c=a(g.h-30,0,360)}var m;return"dark"===d?m=a(e.v-.25,0,1):"light"===d&&(m=a(e.v+.25,0,1)),u=[{h:c,s:e.s,v:m}],o(l.format.toLowerCase(),u),u[0]},F}return e()})},{}],2:[function(require,module,exports){var parser=require("./lib/parser"),compiler=require("./lib/compiler");module.exports={parse:function(input){var nodes=parser.parse(input.toString());return compiler.compile(nodes)}}},{"./lib/compiler":3,"./lib/parser":4}],3:[function(require,module,exports){function compile(nodes){"use strict";function reduce(nodes){var node;for(var i in nodes)switch(node=nodes[i],node.type){case"Assign":assign(node);break;case"ObjectPath":setPath(node);break;case"ArrayPath":addTableArray(node)}return data}function genError(err,line,col){var ex=new Error(err);throw ex.line=line,ex.column=col,ex}function assign(node){var fullPath,key=node.key,value=node.value,line=node.line,column=node.column;fullPath=currentPath?currentPath+"."+key:key,"undefined"!=typeof context[key]&&genError("Cannot redefine existing key '"+fullPath+"'.",line,column),context[key]=reduceValueNode(value),pathAssigned(fullPath)||(assignedPaths.push(fullPath),valueAssignments.push(fullPath))}function pathAssigned(path){return assignedPaths.indexOf(path)!==-1}function reduceValueNode(node){return"Array"===node.type?reduceArrayWithTypeChecking(node.value):"InlineTable"===node.type?reduceInlineTableNode(node.value):node.value}function reduceInlineTableNode(values){for(var obj={},i=0;i<values.length;i++){var val=values[i];"InlineTable"===val.value.type?obj[val.key]=reduceInlineTableNode(val.value.value):"InlineTableValue"===val.type&&(obj[val.key]=reduceValueNode(val.value))}return obj}function setPath(node){var path=node.value,quotedPath=path.map(quoteDottedString).join("."),line=node.line,column=node.column;pathAssigned(quotedPath)&&genError("Cannot redefine existing key '"+path+"'.",line,column),assignedPaths.push(quotedPath),context=deepRef(data,path,{},line,column),currentPath=path}function addTableArray(node){var path=node.value,quotedPath=path.map(quoteDottedString).join("."),line=node.line,column=node.column;if(pathAssigned(quotedPath)||assignedPaths.push(quotedPath),assignedPaths=assignedPaths.filter(function(p){return 0!==p.indexOf(quotedPath)}),assignedPaths.push(quotedPath),context=deepRef(data,path,[],line,column),currentPath=quotedPath,context instanceof Array){var newObj={};context.push(newObj),context=newObj}else genError("Cannot redefine existing key '"+path+"'.",line,column)}function deepRef(start,keys,value,line,column){var key,traversed=[],traversedPath="",ctx=(keys.join("."),start),keysLen=keys.length;for(var i in keys)key=keys[i],traversed.push(key),traversedPath=traversed.join("."),"undefined"==typeof ctx[key]?i===String(keysLen-1)?ctx[key]=value:ctx[key]={}:i!==keysLen-1&&valueAssignments.indexOf(traversedPath)>-1&&genError("Cannot redefine existing key '"+traversedPath+"'.",line,column),ctx=ctx[key],ctx instanceof Array&&ctx.length&&i<keys.length-1&&(ctx=ctx[ctx.length-1]);return ctx}function reduceArrayWithTypeChecking(array){var firstType=null;for(var i in array){var node=array[i];null===firstType?firstType=node.type:node.type!==firstType&&genError("Cannot add value of type "+node.type+" to array of type "+firstType+".",node.line,node.column)}return array.map(reduceValueNode)}function quoteDottedString(str){return str.indexOf(".")>-1?'"'+str+'"':str}var assignedPaths=[],valueAssignments=[],currentPath="",data={},context=data;return reduce(nodes)}module.exports={compile:compile}},{}],4:[function(require,module,exports){module.exports=function(){function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}function SyntaxError(message,expected,found,offset,line,column){this.message=message,this.expected=expected,this.found=found,this.offset=offset,this.line=line,this.column=column,this.name="SyntaxError"}function parse(input){function line(){return peg$computePosDetails(peg$reportedPos).line}function column(){return peg$computePosDetails(peg$reportedPos).column}function peg$computePosDetails(pos){function advance(details,startPos,endPos){var p,ch;for(p=startPos;p<endPos;p++)ch=input.charAt(p),"\n"===ch?(details.seenCR||details.line++,details.column=1,details.seenCR=!1):"\r"===ch||"\u2028"===ch||"\u2029"===ch?(details.line++,details.column=1,details.seenCR=!0):(details.column++,details.seenCR=!1)}return peg$cachedPos!==pos&&(peg$cachedPos>pos&&(peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:!1}),advance(peg$cachedPosDetails,peg$cachedPos,pos),peg$cachedPos=pos),peg$cachedPosDetails}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildException(message,expected,pos){function cleanupExpected(expected){var i=1;for(expected.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});i<expected.length;)expected[i-1]===expected[i]?expected.splice(i,1):i++}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}var expectedDesc,foundDesc,i,expectedDescs=new Array(expected.length);for(i=0;i<expected.length;i++)expectedDescs[i]=expected[i].description;return expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0],foundDesc=found?'"'+stringEscape(found)+'"':"end of input","Expected "+expectedDesc+" but "+foundDesc+" found."}var posDetails=peg$computePosDetails(pos),found=pos<input.length?input.charAt(pos):null;return null!==expected&&cleanupExpected(expected),new SyntaxError(null!==message?message:buildMessage(expected,found),expected,found,pos,posDetails.line,posDetails.column)}function peg$parsestart(){var s0,s1,s2,key=45*peg$currPos+0,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parseline();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseline();return s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c1()),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseline(){var s0,s1,s2,s3,s4,s5,s6,key=45*peg$currPos+1,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parseexpression(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED){for(s4=[],s5=peg$parsecomment();s5!==peg$FAILED;)s4.push(s5),s5=peg$parsecomment();if(s4!==peg$FAILED){if(s5=[],s6=peg$parseNL(),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parseNL();else s5=peg$c2;s5===peg$FAILED&&(s5=peg$parseEOF()),s5!==peg$FAILED?(s1=[s1,s2,s3,s4,s5],s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){if(s0=peg$currPos,s1=[],s2=peg$parseS(),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();else s1=peg$c2;if(s1!==peg$FAILED){if(s2=[],s3=peg$parseNL(),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parseNL();else s2=peg$c2;s2===peg$FAILED&&(s2=peg$parseEOF()),s2!==peg$FAILED?(s1=[s1,s2],s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;s0===peg$FAILED&&(s0=peg$parseNL())}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseexpression(){var s0,key=45*peg$currPos+2,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parsecomment(),s0===peg$FAILED&&(s0=peg$parsepath(),s0===peg$FAILED&&(s0=peg$parsetablearray(),s0===peg$FAILED&&(s0=peg$parseassignment()))),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsecomment(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+3,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,35===input.charCodeAt(peg$currPos)?(s1=peg$c3,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c4)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseNL(),s5===peg$FAILED&&(s5=peg$parseEOF()),peg$silentFails--,s5===peg$FAILED?s4=peg$c5:(peg$currPos=s4,s4=peg$c2),s4!==peg$FAILED?(input.length>peg$currPos?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c2)):(peg$currPos=s3,s3=peg$c2);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseNL(),s5===peg$FAILED&&(s5=peg$parseEOF()),peg$silentFails--,s5===peg$FAILED?s4=peg$c5:(peg$currPos=s4,s4=peg$c2),s4!==peg$FAILED?(input.length>peg$currPos?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c2)):(peg$currPos=s3,s3=peg$c2);s2!==peg$FAILED?(s1=[s1,s2],s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsepath(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+4,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED){for(s2=[],s3=peg$parseS();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseS();if(s2!==peg$FAILED)if(s3=peg$parsetable_key(),s3!==peg$FAILED){for(s4=[],s5=peg$parseS();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseS();s4!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s5=peg$c9,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c11(s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsetablearray(){var s0,s1,s2,s3,s4,s5,s6,s7,key=45*peg$currPos+5,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED)if(91===input.charCodeAt(peg$currPos)?(s2=peg$c7,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED)if(s4=peg$parsetable_key(),s4!==peg$FAILED){for(s5=[],s6=peg$parseS();s6!==peg$FAILED;)s5.push(s6),s6=peg$parseS();s5!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s6=peg$c9,peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s6!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s7=peg$c9,peg$currPos++):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s7!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c12(s4),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsetable_key(){var s0,s1,s2,key=45*peg$currPos+6,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,s1=[],s2=peg$parsedot_ended_table_key_part(),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedot_ended_table_key_part();else s1=peg$c2;return s1!==peg$FAILED?(s2=peg$parsetable_key_part(),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c13(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parsetable_key_part(),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c14(s1)),s0=s1),peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsetable_key_part(){var s0,s1,s2,s3,s4,key=45*peg$currPos+7,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsekey(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c15(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsequoted_key(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c15(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsedot_ended_table_key_part(){var s0,s1,s2,s3,s4,s5,s6,key=45*peg$currPos+8,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsekey(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED)if(46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s4!==peg$FAILED){for(s5=[],s6=peg$parseS();s6!==peg$FAILED;)s5.push(s6),s6=peg$parseS();s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c15(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsequoted_key(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED)if(46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s4!==peg$FAILED){for(s5=[],s6=peg$parseS();s6!==peg$FAILED;)s5.push(s6),s6=peg$parseS();s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c15(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseassignment(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+9,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,s1=peg$parsekey(),s1!==peg$FAILED){for(s2=[],s3=peg$parseS();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseS();if(s2!==peg$FAILED)if(61===input.charCodeAt(peg$currPos)?(s3=peg$c18,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s3!==peg$FAILED){for(s4=[],s5=peg$parseS();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseS();s4!==peg$FAILED?(s5=peg$parsevalue(),s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c20(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED)if(s0=peg$currPos,s1=peg$parsequoted_key(),s1!==peg$FAILED){for(s2=[],s3=peg$parseS();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseS();if(s2!==peg$FAILED)if(61===input.charCodeAt(peg$currPos)?(s3=peg$c18,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s3!==peg$FAILED){for(s4=[],s5=peg$parseS();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseS();s4!==peg$FAILED?(s5=peg$parsevalue(),s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c20(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsekey(){var s0,s1,s2,key=45*peg$currPos+10,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,s1=[],s2=peg$parseASCII_BASIC(),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseASCII_BASIC();else s1=peg$c2;return s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c21(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsequoted_key(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+11,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1=peg$c22,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s1!==peg$FAILED){if(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseNL(),s5===peg$FAILED&&(91===input.charCodeAt(peg$currPos)?(s5=peg$c7,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s5===peg$FAILED&&(93===input.charCodeAt(peg$currPos)?(s5=peg$c9,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s5===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s5=peg$c18,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s5===peg$FAILED&&(34===input.charCodeAt(peg$currPos)?(s5=peg$c22,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)))))),peg$silentFails--,s5===peg$FAILED?s4=peg$c5:(peg$currPos=s4,s4=peg$c2),s4!==peg$FAILED?(s5=peg$parseESCAPED(),s5===peg$FAILED&&(input.length>peg$currPos?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6))),s5!==peg$FAILED?(peg$reportedPos=s3,s4=peg$c24(s5),s3=s4):(peg$currPos=s3,s3=peg$c2)):(peg$currPos=s3,s3=peg$c2),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseNL(),s5===peg$FAILED&&(91===input.charCodeAt(peg$currPos)?(s5=peg$c7,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s5===peg$FAILED&&(93===input.charCodeAt(peg$currPos)?(s5=peg$c9,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s5===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s5=peg$c18,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s5===peg$FAILED&&(34===input.charCodeAt(peg$currPos)?(s5=peg$c22,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)))))),peg$silentFails--,s5===peg$FAILED?s4=peg$c5:(peg$currPos=s4,s4=peg$c2),s4!==peg$FAILED?(s5=peg$parseESCAPED(),s5===peg$FAILED&&(input.length>peg$currPos?(s5=input.charAt(peg$currPos),peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6))),s5!==peg$FAILED?(peg$reportedPos=s3,s4=peg$c24(s5),s3=s4):(peg$currPos=s3,s3=peg$c2)):(peg$currPos=s3,s3=peg$c2);else s2=peg$c2;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3=peg$c22,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c21(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsevalue(){var s0,key=45*peg$currPos+12,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parsestring(),s0===peg$FAILED&&(s0=peg$parsedatetime(),s0===peg$FAILED&&(s0=peg$parsefloat(),s0===peg$FAILED&&(s0=peg$parseinteger(),s0===peg$FAILED&&(s0=peg$parseboolean(),s0===peg$FAILED&&(s0=peg$parsearray(),s0===peg$FAILED&&(s0=peg$parseinline_table())))))),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsestring(){var s0,s1,s2,s3,s4,key=45*peg$currPos+13,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,input.substr(peg$currPos,3)===peg$c25?(s1=peg$c25,peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26)),s1!==peg$FAILED)if(s2=peg$parseNL(),s2===peg$FAILED&&(s2=peg$c27),s2!==peg$FAILED){for(s3=[],s4=peg$parsemultiline_string_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsemultiline_string_char();s3!==peg$FAILED?(input.substr(peg$currPos,3)===peg$c25?(s4=peg$c25,peg$currPos+=3):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26)),s4!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c28(s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1=peg$c22,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s1!==peg$FAILED){for(s2=[],s3=peg$parsestring_char();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsestring_char();s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3=peg$c22,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c28(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){if(s0=peg$currPos,input.substr(peg$currPos,3)===peg$c29?(s1=peg$c29,peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s1!==peg$FAILED)if(s2=peg$parseNL(),s2===peg$FAILED&&(s2=peg$c27),s2!==peg$FAILED){for(s3=[],s4=peg$parsemultiline_literal_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsemultiline_literal_char();s3!==peg$FAILED?(input.substr(peg$currPos,3)===peg$c29?(s4=peg$c29,peg$currPos+=3):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s4!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c28(s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED)if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1=peg$c31,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32)),s1!==peg$FAILED){for(s2=[],s3=peg$parseliteral_char();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseliteral_char();s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3=peg$c31,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c28(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2}}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsestring_char(){var s0,s1,s2,s3,key=45*peg$currPos+14,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parseESCAPED(),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,34===input.charCodeAt(peg$currPos)?(s2=peg$c22,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),peg$silentFails--,s2===peg$FAILED?s1=peg$c5:(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,92===input.charCodeAt(peg$currPos)?(s3=peg$c33,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),peg$silentFails--,s3===peg$FAILED?s2=peg$c5:(peg$currPos=s2,s2=peg$c2),s2!==peg$FAILED?(input.length>peg$currPos?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c24(s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseliteral_char(){var s0,s1,s2,key=45*peg$currPos+15,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,39===input.charCodeAt(peg$currPos)?(s2=peg$c31,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32)),
peg$silentFails--,s2===peg$FAILED?s1=peg$c5:(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED?(input.length>peg$currPos?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c24(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsemultiline_string_char(){var s0,s1,s2,key=45*peg$currPos+16,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parseESCAPED(),s0===peg$FAILED&&(s0=peg$parsemultiline_string_delim(),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,input.substr(peg$currPos,3)===peg$c25?(s2=peg$c25,peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26)),peg$silentFails--,s2===peg$FAILED?s1=peg$c5:(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED?(input.length>peg$currPos?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c35(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2))),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsemultiline_string_delim(){var s0,s1,s2,s3,s4,key=45*peg$currPos+17,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c33,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s1!==peg$FAILED)if(s2=peg$parseNL(),s2!==peg$FAILED){for(s3=[],s4=peg$parseNLS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseNLS();s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c36(),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsemultiline_literal_char(){var s0,s1,s2,key=45*peg$currPos+18,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,input.substr(peg$currPos,3)===peg$c29?(s2=peg$c29,peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),peg$silentFails--,s2===peg$FAILED?s1=peg$c5:(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED?(input.length>peg$currPos?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c24(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsefloat(){var s0,s1,s2,s3,key=45*peg$currPos+19,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$parsefloat_text(),s1===peg$FAILED&&(s1=peg$parseinteger_text()),s1!==peg$FAILED?(101===input.charCodeAt(peg$currPos)?(s2=peg$c37,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c38)),s2===peg$FAILED&&(69===input.charCodeAt(peg$currPos)?(s2=peg$c39,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c40))),s2!==peg$FAILED?(s3=peg$parseinteger_text(),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c41(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parsefloat_text(),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c42(s1)),s0=s1),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsefloat_text(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+20,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,43===input.charCodeAt(peg$currPos)?(s1=peg$c43,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s1===peg$FAILED&&(s1=peg$c27),s1!==peg$FAILED?(s2=peg$currPos,s3=peg$parseDIGITS(),s3!==peg$FAILED?(46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s4!==peg$FAILED?(s5=peg$parseDIGITS(),s5!==peg$FAILED?(s3=[s3,s4,s5],s2=s3):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c45(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1=peg$c46,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s1!==peg$FAILED?(s2=peg$currPos,s3=peg$parseDIGITS(),s3!==peg$FAILED?(46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s4!==peg$FAILED?(s5=peg$parseDIGITS(),s5!==peg$FAILED?(s3=[s3,s4,s5],s2=s3):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c48(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseinteger(){var s0,s1,key=45*peg$currPos+21,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$parseinteger_text(),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c49(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseinteger_text(){var s0,s1,s2,s3,s4,key=45*peg$currPos+22,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,43===input.charCodeAt(peg$currPos)?(s1=peg$c43,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s1===peg$FAILED&&(s1=peg$c27),s1!==peg$FAILED){if(s2=[],s3=peg$parseDIGIT_OR_UNDER(),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parseDIGIT_OR_UNDER();else s2=peg$c2;s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),peg$silentFails--,s4===peg$FAILED?s3=peg$c5:(peg$currPos=s3,s3=peg$c2),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c45(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED)if(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1=peg$c46,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s1!==peg$FAILED){if(s2=[],s3=peg$parseDIGIT_OR_UNDER(),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parseDIGIT_OR_UNDER();else s2=peg$c2;s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,46===input.charCodeAt(peg$currPos)?(s4=peg$c16,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),peg$silentFails--,s4===peg$FAILED?s3=peg$c5:(peg$currPos=s3,s3=peg$c2),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c48(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseboolean(){var s0,s1,key=45*peg$currPos+23,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,input.substr(peg$currPos,4)===peg$c50?(s1=peg$c50,peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c51)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c52()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,5)===peg$c53?(s1=peg$c53,peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c54)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c55()),s0=s1),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsearray(){var s0,s1,s2,s3,s4,key=45*peg$currPos+24,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED){for(s2=[],s3=peg$parsearray_sep();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsearray_sep();s2!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s3=peg$c9,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c56(),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED&&(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED?(s2=peg$parsearray_value(),s2===peg$FAILED&&(s2=peg$c27),s2!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s3=peg$c9,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c57(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED)){if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED){if(s2=[],s3=peg$parsearray_value_list(),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parsearray_value_list();else s2=peg$c2;s2!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s3=peg$c9,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c58(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED)if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1=peg$c7,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s1!==peg$FAILED){if(s2=[],s3=peg$parsearray_value_list(),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parsearray_value_list();else s2=peg$c2;s2!==peg$FAILED?(s3=peg$parsearray_value(),s3!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s4=peg$c9,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s4!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c59(s2,s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsearray_value(){var s0,s1,s2,s3,s4,key=45*peg$currPos+25,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parsearray_sep();s2!==peg$FAILED;)s1.push(s2),s2=peg$parsearray_sep();if(s1!==peg$FAILED)if(s2=peg$parsevalue(),s2!==peg$FAILED){for(s3=[],s4=peg$parsearray_sep();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsearray_sep();s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c60(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsearray_value_list(){var s0,s1,s2,s3,s4,s5,s6,key=45*peg$currPos+26,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parsearray_sep();s2!==peg$FAILED;)s1.push(s2),s2=peg$parsearray_sep();if(s1!==peg$FAILED)if(s2=peg$parsevalue(),s2!==peg$FAILED){for(s3=[],s4=peg$parsearray_sep();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsearray_sep();if(s3!==peg$FAILED)if(44===input.charCodeAt(peg$currPos)?(s4=peg$c61,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c62)),s4!==peg$FAILED){for(s5=[],s6=peg$parsearray_sep();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsearray_sep();s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c60(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsearray_sep(){var s0,key=45*peg$currPos+27,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parseS(),s0===peg$FAILED&&(s0=peg$parseNL(),s0===peg$FAILED&&(s0=peg$parsecomment())),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseinline_table(){var s0,s1,s2,s3,s4,s5,key=45*peg$currPos+28,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,123===input.charCodeAt(peg$currPos)?(s1=peg$c63,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64)),s1!==peg$FAILED){for(s2=[],s3=peg$parseS();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseS();if(s2!==peg$FAILED){for(s3=[],s4=peg$parseinline_table_assignment();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseinline_table_assignment();if(s3!==peg$FAILED){for(s4=[],s5=peg$parseS();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseS();s4!==peg$FAILED?(125===input.charCodeAt(peg$currPos)?(s5=peg$c65,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c66)),s5!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c67(s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseinline_table_assignment(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,key=45*peg$currPos+29,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsekey(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED)if(61===input.charCodeAt(peg$currPos)?(s4=peg$c18,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s4!==peg$FAILED){for(s5=[],s6=peg$parseS();s6!==peg$FAILED;)s5.push(s6),s6=peg$parseS();if(s5!==peg$FAILED)if(s6=peg$parsevalue(),s6!==peg$FAILED){for(s7=[],s8=peg$parseS();s8!==peg$FAILED;)s7.push(s8),s8=peg$parseS();if(s7!==peg$FAILED)if(44===input.charCodeAt(peg$currPos)?(s8=peg$c61,peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c62)),s8!==peg$FAILED){for(s9=[],s10=peg$parseS();s10!==peg$FAILED;)s9.push(s10),s10=peg$parseS();s9!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c68(s2,s6),s0=s1):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2;if(s0===peg$FAILED){for(s0=peg$currPos,s1=[],s2=peg$parseS();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseS();if(s1!==peg$FAILED)if(s2=peg$parsekey(),s2!==peg$FAILED){for(s3=[],s4=peg$parseS();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseS();if(s3!==peg$FAILED)if(61===input.charCodeAt(peg$currPos)?(s4=peg$c18,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s4!==peg$FAILED){for(s5=[],s6=peg$parseS();s6!==peg$FAILED;)s5.push(s6),s6=peg$parseS();s5!==peg$FAILED?(s6=peg$parsevalue(),s6!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c68(s2,s6),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}else peg$currPos=s0,s0=peg$c2;else peg$currPos=s0,s0=peg$c2}return peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parsesecfragment(){var s0,s1,s2,key=45*peg$currPos+30,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=peg$c16,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s1!==peg$FAILED?(s2=peg$parseDIGITS(),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c69(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsedate(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,key=45*peg$currPos+31,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$currPos,s2=peg$parseDIGIT_OR_UNDER(),s2!==peg$FAILED?(s3=peg$parseDIGIT_OR_UNDER(),s3!==peg$FAILED?(s4=peg$parseDIGIT_OR_UNDER(),s4!==peg$FAILED?(s5=peg$parseDIGIT_OR_UNDER(),s5!==peg$FAILED?(45===input.charCodeAt(peg$currPos)?(s6=peg$c46,peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s6!==peg$FAILED?(s7=peg$parseDIGIT_OR_UNDER(),s7!==peg$FAILED?(s8=peg$parseDIGIT_OR_UNDER(),s8!==peg$FAILED?(45===input.charCodeAt(peg$currPos)?(s9=peg$c46,peg$currPos++):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s9!==peg$FAILED?(s10=peg$parseDIGIT_OR_UNDER(),s10!==peg$FAILED?(s11=peg$parseDIGIT_OR_UNDER(),s11!==peg$FAILED?(s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10,s11],s1=s2):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c70(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsetime(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,key=45*peg$currPos+32,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$currPos,s2=peg$parseDIGIT_OR_UNDER(),s2!==peg$FAILED?(s3=peg$parseDIGIT_OR_UNDER(),s3!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s4=peg$c71,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s4!==peg$FAILED?(s5=peg$parseDIGIT_OR_UNDER(),s5!==peg$FAILED?(s6=peg$parseDIGIT_OR_UNDER(),s6!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s7=peg$c71,peg$currPos++):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s7!==peg$FAILED?(s8=peg$parseDIGIT_OR_UNDER(),s8!==peg$FAILED?(s9=peg$parseDIGIT_OR_UNDER(),s9!==peg$FAILED?(s10=peg$parsesecfragment(),s10===peg$FAILED&&(s10=peg$c27),s10!==peg$FAILED?(s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10],s1=s2):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c73(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsetime_with_offset(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,key=45*peg$currPos+33,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$currPos,s2=peg$parseDIGIT_OR_UNDER(),s2!==peg$FAILED?(s3=peg$parseDIGIT_OR_UNDER(),s3!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s4=peg$c71,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s4!==peg$FAILED?(s5=peg$parseDIGIT_OR_UNDER(),s5!==peg$FAILED?(s6=peg$parseDIGIT_OR_UNDER(),s6!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s7=peg$c71,peg$currPos++):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s7!==peg$FAILED?(s8=peg$parseDIGIT_OR_UNDER(),s8!==peg$FAILED?(s9=peg$parseDIGIT_OR_UNDER(),s9!==peg$FAILED?(s10=peg$parsesecfragment(),s10===peg$FAILED&&(s10=peg$c27),s10!==peg$FAILED?(45===input.charCodeAt(peg$currPos)?(s11=peg$c46,peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s11===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s11=peg$c43,peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44))),s11!==peg$FAILED?(s12=peg$parseDIGIT_OR_UNDER(),s12!==peg$FAILED?(s13=peg$parseDIGIT_OR_UNDER(),s13!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s14=peg$c71,peg$currPos++):(s14=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s14!==peg$FAILED?(s15=peg$parseDIGIT_OR_UNDER(),s15!==peg$FAILED?(s16=peg$parseDIGIT_OR_UNDER(),s16!==peg$FAILED?(s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16],s1=s2):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2)):(peg$currPos=s1,s1=peg$c2),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c73(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parsedatetime(){var s0,s1,s2,s3,s4,key=45*peg$currPos+34,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,s1=peg$parsedate(),s1!==peg$FAILED?(84===input.charCodeAt(peg$currPos)?(s2=peg$c74,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c75)),s2!==peg$FAILED?(s3=peg$parsetime(),s3!==peg$FAILED?(90===input.charCodeAt(peg$currPos)?(s4=peg$c76,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c77)),s4!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c78(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parsedate(),s1!==peg$FAILED?(84===input.charCodeAt(peg$currPos)?(s2=peg$c74,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c75)),s2!==peg$FAILED?(s3=peg$parsetime_with_offset(),s3!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c79(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseS(){var s0,key=45*peg$currPos+35,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(peg$c80.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseNL(){var s0,s1,s2,key=45*peg$currPos+36,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(10===input.charCodeAt(peg$currPos)?(s0=peg$c82,peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c83)),s0===peg$FAILED&&(s0=peg$currPos,13===input.charCodeAt(peg$currPos)?(s1=peg$c84,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c85)),s1!==peg$FAILED?(10===input.charCodeAt(peg$currPos)?(s2=peg$c82,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c83)),s2!==peg$FAILED?(s1=[s1,s2],s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseNLS(){var s0,key=45*peg$currPos+37,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$parseNL(),s0===peg$FAILED&&(s0=peg$parseS()),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseEOF(){var s0,s1,key=45*peg$currPos+38,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),peg$silentFails--,s1===peg$FAILED?s0=peg$c5:(peg$currPos=s0,s0=peg$c2),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseHEX(){var s0,key=45*peg$currPos+39,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(peg$c86.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c87)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseDIGIT_OR_UNDER(){var s0,s1,key=45*peg$currPos+40,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(peg$c88.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c89)),s0===peg$FAILED&&(s0=peg$currPos,95===input.charCodeAt(peg$currPos)?(s1=peg$c90,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c91)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c92()),s0=s1),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseASCII_BASIC(){var s0,key=45*peg$currPos+41,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(peg$c93.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c94)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseDIGITS(){var s0,s1,s2,key=45*peg$currPos+42,cached=peg$cache[key];if(cached)return peg$currPos=cached.nextPos,cached.result;if(s0=peg$currPos,s1=[],s2=peg$parseDIGIT_OR_UNDER(),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseDIGIT_OR_UNDER();else s1=peg$c2;return s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c95(s1)),s0=s1,peg$cache[key]={nextPos:peg$currPos,result:s0},s0}function peg$parseESCAPED(){var s0,s1,key=45*peg$currPos+43,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c96?(s1=peg$c96,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c97)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c98()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c99?(s1=peg$c99,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c100)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c101()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c102?(s1=peg$c102,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c103)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c104()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c105?(s1=peg$c105,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c106)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c107()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c108?(s1=peg$c108,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c109)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c110()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c111?(s1=peg$c111,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c112)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c113()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c114?(s1=peg$c114,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c115)),s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c116()),s0=s1,s0===peg$FAILED&&(s0=peg$parseESCAPED_UNICODE()))))))),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function peg$parseESCAPED_UNICODE(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,key=45*peg$currPos+44,cached=peg$cache[key];return cached?(peg$currPos=cached.nextPos,cached.result):(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c117?(s1=peg$c117,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c118)),s1!==peg$FAILED?(s2=peg$currPos,s3=peg$parseHEX(),s3!==peg$FAILED?(s4=peg$parseHEX(),s4!==peg$FAILED?(s5=peg$parseHEX(),s5!==peg$FAILED?(s6=peg$parseHEX(),s6!==peg$FAILED?(s7=peg$parseHEX(),s7!==peg$FAILED?(s8=peg$parseHEX(),s8!==peg$FAILED?(s9=peg$parseHEX(),s9!==peg$FAILED?(s10=peg$parseHEX(),s10!==peg$FAILED?(s3=[s3,s4,s5,s6,s7,s8,s9,s10],s2=s3):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c119(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2),s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c120?(s1=peg$c120,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c121)),s1!==peg$FAILED?(s2=peg$currPos,s3=peg$parseHEX(),s3!==peg$FAILED?(s4=peg$parseHEX(),s4!==peg$FAILED?(s5=peg$parseHEX(),s5!==peg$FAILED?(s6=peg$parseHEX(),s6!==peg$FAILED?(s3=[s3,s4,s5,s6],s2=s3):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2)):(peg$currPos=s2,s2=peg$c2),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c119(s2),s0=s1):(peg$currPos=s0,s0=peg$c2)):(peg$currPos=s0,s0=peg$c2)),peg$cache[key]={nextPos:peg$currPos,result:s0},s0)}function genError(err,line,col){var ex=new Error(err);throw ex.line=line,ex.column=col,ex}function addNode(node){nodes.push(node)}function node(type,value,line,column,key){var obj={type:type,value:value,line:line(),column:column()};return key&&(obj.key=key),obj}function convertCodePoint(str,line,col){var num=parseInt("0x"+str);return!isFinite(num)||Math.floor(num)!=num||num<0||num>1114111||num>55295&&num<57344?void genError("Invalid Unicode escape code: "+str,line,col):fromCodePoint(num)}function fromCodePoint(){var highSurrogate,lowSurrogate,MAX_SIZE=16384,codeUnits=[],index=-1,length=arguments.length;if(!length)return"";for(var result="";++index<length;){var codePoint=Number(arguments[index]);codePoint<=65535?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=(codePoint>>10)+55296,lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate)),(index+1==length||codeUnits.length>MAX_SIZE)&&(result+=String.fromCharCode.apply(null,codeUnits),codeUnits.length=0)}return result}var peg$result,options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c1=function(){return nodes},peg$c2=peg$FAILED,peg$c3="#",peg$c4={type:"literal",value:"#",description:'"#"'},peg$c5=void 0,peg$c6={type:"any",description:"any character"},peg$c7="[",peg$c8={type:"literal",value:"[",description:'"["'},peg$c9="]",peg$c10={type:"literal",value:"]",description:'"]"'},peg$c11=function(name){addNode(node("ObjectPath",name,line,column))},peg$c12=function(name){addNode(node("ArrayPath",name,line,column))},peg$c13=function(parts,name){return parts.concat(name)},peg$c14=function(name){return[name]},peg$c15=function(name){return name},peg$c16=".",peg$c17={type:"literal",value:".",description:'"."'},peg$c18="=",peg$c19={type:"literal",value:"=",description:'"="'},peg$c20=function(key,value){addNode(node("Assign",value,line,column,key))},peg$c21=function(chars){return chars.join("")},peg$c22='"',peg$c23={type:"literal",value:'"',description:'"\\""'},peg$c24=function(char){return char},peg$c25='"""',peg$c26={type:"literal",value:'"""',description:'"\\"\\"\\""'},peg$c27=null,peg$c28=function(chars){return node("String",chars.join(""),line,column)},peg$c29="'''",peg$c30={type:"literal",value:"'''",description:"\"'''\""},peg$c31="'",peg$c32={type:"literal",value:"'",description:'"\'"'},peg$c33="\\",peg$c34={type:"literal",value:"\\",description:'"\\\\"'},peg$c35=function(char){return char},peg$c36=function(){return""},peg$c37="e",peg$c38={type:"literal",value:"e",description:'"e"'},peg$c39="E",peg$c40={type:"literal",value:"E",description:'"E"'},peg$c41=function(left,right){return node("Float",parseFloat(left+"e"+right),line,column)},peg$c42=function(text){return node("Float",parseFloat(text),line,column)},peg$c43="+",peg$c44={type:"literal",value:"+",description:'"+"'},peg$c45=function(digits){return digits.join("")},peg$c46="-",peg$c47={type:"literal",value:"-",description:'"-"'},peg$c48=function(digits){return"-"+digits.join("")},peg$c49=function(text){return node("Integer",parseInt(text,10),line,column)},peg$c50="true",peg$c51={type:"literal",value:"true",description:'"true"'},peg$c52=function(){return node("Boolean",!0,line,column)},peg$c53="false",peg$c54={type:"literal",value:"false",description:'"false"'},peg$c55=function(){return node("Boolean",!1,line,column)},peg$c56=function(){return node("Array",[],line,column)},peg$c57=function(value){return node("Array",value?[value]:[],line,column)},peg$c58=function(values){return node("Array",values,line,column)},peg$c59=function(values,value){return node("Array",values.concat(value),line,column)},peg$c60=function(value){return value},peg$c61=",",peg$c62={type:"literal",value:",",description:'","'},peg$c63="{",peg$c64={type:"literal",value:"{",description:'"{"'},peg$c65="}",peg$c66={type:"literal",value:"}",description:'"}"'},peg$c67=function(values){return node("InlineTable",values,line,column)},peg$c68=function(key,value){return node("InlineTableValue",value,line,column,key)},peg$c69=function(digits){return"."+digits},peg$c70=function(date){return date.join("")},peg$c71=":",peg$c72={type:"literal",value:":",description:'":"'},peg$c73=function(time){return time.join("")},peg$c74="T",peg$c75={type:"literal",value:"T",description:'"T"'},peg$c76="Z",peg$c77={type:"literal",value:"Z",description:'"Z"'},peg$c78=function(date,time){return node("Date",new Date(date+"T"+time+"Z"),line,column)},peg$c79=function(date,time){return node("Date",new Date(date+"T"+time),line,column)},peg$c80=/^[ \t]/,peg$c81={type:"class",value:"[ \\t]",description:"[ \\t]"
},peg$c82="\n",peg$c83={type:"literal",value:"\n",description:'"\\n"'},peg$c84="\r",peg$c85={type:"literal",value:"\r",description:'"\\r"'},peg$c86=/^[0-9a-f]/i,peg$c87={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},peg$c88=/^[0-9]/,peg$c89={type:"class",value:"[0-9]",description:"[0-9]"},peg$c90="_",peg$c91={type:"literal",value:"_",description:'"_"'},peg$c92=function(){return""},peg$c93=/^[A-Za-z0-9_\-]/,peg$c94={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},peg$c95=function(d){return d.join("")},peg$c96='\\"',peg$c97={type:"literal",value:'\\"',description:'"\\\\\\""'},peg$c98=function(){return'"'},peg$c99="\\\\",peg$c100={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},peg$c101=function(){return"\\"},peg$c102="\\b",peg$c103={type:"literal",value:"\\b",description:'"\\\\b"'},peg$c104=function(){return"\b"},peg$c105="\\t",peg$c106={type:"literal",value:"\\t",description:'"\\\\t"'},peg$c107=function(){return"\t"},peg$c108="\\n",peg$c109={type:"literal",value:"\\n",description:'"\\\\n"'},peg$c110=function(){return"\n"},peg$c111="\\f",peg$c112={type:"literal",value:"\\f",description:'"\\\\f"'},peg$c113=function(){return"\f"},peg$c114="\\r",peg$c115={type:"literal",value:"\\r",description:'"\\\\r"'},peg$c116=function(){return"\r"},peg$c117="\\U",peg$c118={type:"literal",value:"\\U",description:'"\\\\U"'},peg$c119=function(digits){return convertCodePoint(digits.join(""))},peg$c120="\\u",peg$c121={type:"literal",value:"\\u",description:'"\\\\u"'},peg$currPos=0,peg$reportedPos=0,peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:!1},peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$cache={};if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}var nodes=[];if(peg$result=peg$startRuleFunction(),peg$result!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end",description:"end of input"}),peg$buildException(null,peg$maxFailExpected,peg$maxFailPos)}return peg$subclass(SyntaxError,Error),{SyntaxError:SyntaxError,parse:parse}}()},{}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isJump(keys){return keys[32]||keys[38]||keys[90]}function isYes(keys){return keys[32]||keys[13]||keys[90]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Coin=exports.Sign=exports.Mushroom=exports.Powerup=exports.Goomba=exports.Player=exports.Entity=void 0;var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SLW=require("./SLW"),_Tile=(_interopRequireDefault(_SLW),require("./Tile")),_Tile2=_interopRequireDefault(_Tile),_Level=require("./Level"),_Level2=_interopRequireDefault(_Level),_util=require("./util"),DEBUG=!1,GRAVITY=.25,Entity=exports.Entity=function(){function Entity(game){_classCallCheck(this,Entity),this.game=game,this.sprite={sheet:new Image,position:[0,0],positionType:"",width:0,height:0},this.x=0,this.y=0,this.z=0,this.xv=0,this.yv=0,this.w=16,this.h=16;var c=require("pleasejs").make_color({format:"rgb"})[0];this.color="rgba("+c.r+", "+c.g+", "+c.b+", 0.75)"}return _createClass(Entity,[{key:"top",get:function(){return Math.floor(this.y)}},{key:"bottom",get:function(){return Math.floor(this.y+this.h)}},{key:"left",get:function(){return Math.floor(this.x)}},{key:"right",get:function(){return Math.floor(this.x+this.w)}}]),_createClass(Entity,[{key:"update",value:function(){var stop=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],v=0,xv=Math.round(this.xv);v=(0,_util.sign)(xv);for(var i=0;i<Math.abs(xv);i++)this.x+=v,(this.touchingWallRight||this.touchingWallLeft)&&(this.x-=v,stop&&(this.xv=0));var yv=Math.floor(this.yv);v=(0,_util.sign)(yv);for(var _i=0;_i<Math.abs(yv);_i++)if(this.y+=v,(1===v&&this.grounded||this.collides())&&(this.y-=v,stop&&(this.yv=0),this.y=Math.ceil(this.y/_Tile2.default.size)*_Tile2.default.size,v===-1)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.tilesAbove[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var tile=_step.value;tile.onAirPunch(this)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.pickTiles(0,0,0,1)[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _tile=_step2.value;_tile.onTouch(this)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.tilesBelow[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _tile2=_step3.value;_tile2.onStand(this)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=this.entityCollides()[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var entity=_step4.value;entity.onTouch(this)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}},{key:"draw",value:function(){var ctx=this.game.canvas.getContext("2d");if(ctx instanceof CanvasRenderingContext2D){DEBUG&&(ctx.fillStyle=this.color,ctx.fillRect(this.left,this.top,this.w+1,this.h+1));var sprite=this.sprite;if(sprite){var _ref=sprite.position||[0,0],_ref2=_slicedToArray(_ref,2),x=_ref2[0],y=_ref2[1],w=sprite.width||this.w,h=sprite.height||this.h;"absolute"!==sprite.positionType&&(x*=w,y*=h),ctx.drawImage(this.sprite.sheet,x,y,w,h,this.left,this.top,w,h)}}}},{key:"collides",value:function(){for(var shouldReturnTiles=arguments.length>0&&void 0!==arguments[0]&&arguments[0],tileLeft=Math.floor(this.left/_Tile2.default.size),tileRight=Math.floor(this.right/_Tile2.default.size),tileTop=Math.floor(this.top/_Tile2.default.size),tileBottom=Math.floor(this.bottom/_Tile2.default.size),tiles=[],collision=!1,x=tileLeft;x<=tileRight;x++)for(var y=tileTop;y<=tileBottom;y++){var tile=this.game.level.tileAt([x,y]);tile.solid&&(collision=!0),tiles.push(tile)}return shouldReturnTiles?tiles:collision}},{key:"pickTiles",value:function(tileLeft,tileRight,tileTop,tileBottom){for(var tiles=[],px=Math.floor(tileLeft);px<=Math.ceil(tileRight);px++)for(var py=Math.floor(tileTop);py<=Math.ceil(tileBottom);py++)tiles.push(this.game.level.tileAt([tileLeft+px+this.x/_Tile2.default.size,tileTop+py+this.y/_Tile2.default.size]));return tiles}},{key:"destroy",value:function(){this.game.entities.splice(this.game.entities.indexOf(this),1)}},{key:"entityCollides",value:function(){var entities=[],_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=this.game.entities[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var entity=_step5.value;entity!==this&&(this.left<=entity.left&&entity.left<=this.right||this.left<=entity.right&&entity.right<=this.right)&&(this.top<=entity.top&&entity.top<=this.bottom||this.top<=entity.bottom&&entity.bottom<=this.bottom)&&entities.push(entity)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return entities}},{key:"onTouch",value:function(by){}},{key:"touchingWallRight",get:function(){var tileLeft=Math.floor(this.right/_Tile2.default.size),tileRight=tileLeft,tileTop=Math.floor(this.top/_Tile2.default.size),tileBottom=Math.floor(this.bottom/_Tile2.default.size);16===this.h&&tileBottom--;for(var x=tileLeft;x<=tileRight;x++)for(var y=tileTop;y<=tileBottom;y++){var tile=this.game.level.tileAt([x,y]);if(tile.solid)return!0}return!1}},{key:"touchingWallLeft",get:function(){var tileLeft=Math.floor(this.left/_Tile2.default.size),tileRight=tileLeft,tileTop=Math.floor(this.top/_Tile2.default.size),tileBottom=Math.floor(this.bottom/_Tile2.default.size);16===this.h&&tileBottom--;for(var x=tileLeft;x<=tileRight;x++)for(var y=tileTop;y<=tileBottom;y++){var tile=this.game.level.tileAt([x,y]);if(tile.solid)return!0}return!1}},{key:"tileOn",get:function(){var t=this.game.level.tileAt([Math.floor((this.x+this.w/2)/16),Math.floor((this.y+this.h/2)/16)]);return t}},{key:"tilesAbove",get:function(){var l=this.game.level.tileAt([Math.floor(this.x/16),this.top/16-.1]),r=this.game.level.tileAt([Math.ceil(this.x/16),this.top/16-.1]);return[l,r]}},{key:"tilesBelow",get:function(){var l=this.game.level.tileAt([Math.floor(this.x/16),this.bottom/16+.1]),r=this.game.level.tileAt([Math.ceil(this.x/16),this.bottom/16+.1]);return[l,r]}},{key:"grounded",get:function(){return this.tilesBelow.some(function(tile){return tile.solid||tile.solidTop})}}]),Entity}(),Player=exports.Player=function(_Entity){function Player(game){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,Player);var _this=_possibleConstructorReturn(this,(Player.__proto__||Object.getPrototypeOf(Player)).call(this,game));return _this.sprite.sheet.src="sprites/liam-0.png",_this.sprite.position=[-100,-100],_this.sprite.positionType="absolute",_this.sprite.width=19,_this.sprite.height=32,_this.spriteAnimation={time:0,dir:"right",anim:"idle",oldAnim:"",nextFrame:0},_this.x=x,_this.y=y,_this.w=15,_this.h=15,_this.state=0,_this.jumpSound=new window.Audio("sound/smw_jump.wav"),_this.errorSound=new window.Audio("sound/smw_stomp_koopa_kid.wav"),_this}return _inherits(Player,_Entity),_createClass(Player,[{key:"update",value:function(){if(this.sprite.sheet.src="sprites/liam-"+this.state+".png",this.state>0?(this.w=15,this.h=31,this.sprite.width=19,this.sprite.height=32,this.sprite.positionType="absolute"):(this.w=15,this.h=15,this.sprite.width=16,this.sprite.height=16),this.game.level.meta.special.includes("world")){this.w=15,this.h=15;var on=this.tileOn;if(this.lastOn||(this.wantsInput=!0),"Path"!==on.name||this.wantsInput){if(this.xv=0,this.yv=0,this.spriteAnimation.anim="idle",this.game.keys[39]?(this.xv=16,this.spriteAnimation.dir="right"):this.xv>0&&(this.xv=0),this.game.keys[37]?(this.xv=-16,this.spriteAnimation.dir="left"):this.xv<0&&(this.xv=0),this.game.keys[40]?(this.yv=16,this.spriteAnimation.dir="down"):this.yv>0&&(this.yv=0),this.game.keys[38]?(this.yv=-16,this.spriteAnimation.dir="up"):this.yv<0&&(this.yv=0),"Level"===on.name&&isYes(this.game.keys)){var lv=this.game.level.meta.id+"-"+on.levelid;lv in _util.levels?(this.w=15,this.h=31,this.game.level.destroy(),this.game.level=new _Level2.default(this.game,lv,this.game.level.tileset),this.game.level.create(),this.game.tick=0):this.errorSound.play()}}else if(this.spriteAnimation.anim="walk",this.xv>0&&(this.spriteAnimation.dir="right"),this.xv<0&&(this.spriteAnimation.dir="left"),this.yv>0&&(this.spriteAnimation.dir="down"),this.yv<0&&(this.spriteAnimation.dir="up"),!this.lastOn||on.texPosition!==this.lastOn.texPosition){var _on$texPosition=_slicedToArray(on.texPosition,2),h=_on$texPosition[0],v=_on$texPosition[1];2==h&&8==v&&console.log("|"),1==h&&9==v&&console.log("-"),3==h&&9==v&&(console.log("/"),0===this.yv?(this.xv=0,this.yv=-16):(this.xv=-16,this.yv=0)),3==h&&8==v&&(console.log("/"),0===this.yv?(this.xv=0,this.yv=16):(this.xv=16,this.yv=0)),1==h&&8==v&&(console.log("\\"),0===this.yv?(this.xv=0,this.yv=-16):(this.xv=16,this.yv=0)),1==h&&10==v&&(console.log("\\"),0===this.yv?(this.xv=0,this.yv=16):(this.xv=-16,this.yv=0)),2==h&&10==v&&(this.xv=0,this.yv=0,this.wantsInput=!0)}this.lastOn=on}else Math.abs(this.xv)<.2&&this.grounded&&(this.spriteAnimation.anim="idle"),this.game.keys[39]?(this.xv+=.2,this.grounded&&(this.spriteAnimation.anim="walk")):this.xv>0&&(this.xv=Math.max(0,this.xv-.4)),this.game.keys[37]?(this.xv-=.2,this.grounded&&(this.spriteAnimation.anim="walk")):this.xv<0&&(this.xv=Math.min(0,this.xv+.4)),Math.abs(this.xv)<.1&&(this.xv=0),this.xv=Math.min(this.xv,4),this.xv=Math.max(this.xv,-4),this.grounded&&isJump(this.game.keys)&&this.mayJump?(this.yv=-3.5,this.lastJump=Date.now(),this.jumpSound.play(),this.spriteAnimation.anim="jump",this.mayJump=!1):isJump(this.game.keys)&&this.yv<-3&&Date.now()-this.lastJump<100+50*Math.abs(this.xv)?this.yv=-3.5:isJump(this.game.keys)||(this.mayJump=!0),this.yv>0&&"jump"!==this.spriteAnimation.anim&&!this.grounded&&(this.spriteAnimation.anim="fall"),this.xv>0&&(this.spriteAnimation.dir="right"),this.xv<0&&(this.spriteAnimation.dir="left"),this.yv=Math.min(this.yv,4),this.yv+=GRAVITY;_get(Player.prototype.__proto__||Object.getPrototypeOf(Player.prototype),"update",this).call(this,1==this.wantsInput||!this.game.level.meta.special.includes("world")),0===this.xv&&0===this.yv||(this.wantsInput=!1)}},{key:"draw",value:function(){var anim=this.spriteAnimation;anim.anim!==anim.oldAnim&&(anim.oldAnim=anim.anim,anim.time=0,anim.nextFrame=0),"walk"===anim.anim||"idle"===anim.anim&&"walk"===anim.oldAnim?anim.time>=anim.nextFrame&&(anim.nextFrame=Math.ceil(anim.time+Math.max(12-Math.abs(3*this.xv),8)),0===this.state?32===this.sprite.position[0]?this.sprite.position[0]=0:16===this.sprite.position[0]?this.sprite.position[0]=32:0===this.sprite.position[0]?"walk"===anim.anim&&(this.sprite.position[0]=16):this.sprite.position[0]=0:57===this.sprite.position[0]?this.sprite.position[0]=0:38===this.sprite.position[0]?this.sprite.position[0]=57:19===this.sprite.position[0]?"walk"===anim.anim&&(this.sprite.position[0]=38):this.sprite.position[0]=19):"idle"===anim.anim?this.sprite.position[0]=0===this.state?0:19:"jump"===anim.anim?this.sprite.position[0]=0===this.state?48:76:"fall"===anim.anim&&(this.sprite.position[0]=0===this.state?32:97),this.sprite.position[1]=0===this.state?{left:16,right:0,up:48,down:32}[anim.dir]:"left"===anim.dir?32:0,this.spriteAnimation.time++,_get(Player.prototype.__proto__||Object.getPrototypeOf(Player.prototype),"draw",this).call(this)}},{key:"destroy",value:function(){var lv=this.game.level.meta.world,id=this.game.level.meta.id;this.game.level.destroy(),this.game.level=new _Level2.default(this.game,lv,this.game.level.tileset),this.game.level.create(),this.game.tick=0,this.state=0;var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=this.game.level.tilemap[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var row=_step6.value,_iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=row[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var tile=_step7.value;"Level"===tile.name&&tile.levelid==id&&(this.x=tile.x*_Tile2.default.size,this.y=tile.y*_Tile2.default.size)}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}}]),Player}(Entity),Powerup=(exports.Goomba=function(_Entity2){function Goomba(game){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,Goomba);var _this2=_possibleConstructorReturn(this,(Goomba.__proto__||Object.getPrototypeOf(Goomba)).call(this,game));return _this2.x=x,_this2.y=y,_this2.z=1,_this2.w=16,_this2.h=16,_this2.xv=2,_this2}return _inherits(Goomba,_Entity2),_createClass(Goomba,[{key:"update",value:function(){this.yv+=GRAVITY,_get(Goomba.prototype.__proto__||Object.getPrototypeOf(Goomba.prototype),"update",this).call(this)}}]),Goomba}(Entity),exports.Powerup=function(_Entity3){function Powerup(game){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,xv=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,Powerup);var _this3=_possibleConstructorReturn(this,(Powerup.__proto__||Object.getPrototypeOf(Powerup)).call(this,game));return _this3.sprite.sheet.src="tileset.png",_this3.x=x,_this3.y=y,_this3.z=2,_this3.w=16,_this3.h=16,_this3.xv=xv,_this3.sprite.position=[0,0],_this3}return _inherits(Powerup,_Entity3),_createClass(Powerup,[{key:"update",value:function(){this.yv+=.7*GRAVITY;var o=this.xv;this.x+=this.xv,(this.touchingWallRight||this.touchingWallLeft)&&(o=this.xv*-1),this.x-=this.xv,this.xv=o,_get(Powerup.prototype.__proto__||Object.getPrototypeOf(Powerup.prototype),"update",this).call(this)}},{key:"onTouch",value:function(by){by instanceof Player&&this.destroy()}}]),Powerup}(Entity));exports.Mushroom=function(_Powerup){function Mushroom(){var _ref3;_classCallCheck(this,Mushroom);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this4=_possibleConstructorReturn(this,(_ref3=Mushroom.__proto__||Object.getPrototypeOf(Mushroom)).call.apply(_ref3,[this].concat(_toConsumableArray(args))));return _this4.sprite.position=[0,2],_this4}return _inherits(Mushroom,_Powerup),_createClass(Mushroom,[{key:"onTouch",value:function(by){by instanceof Player&&0===by.state&&(by.state=1,by.y-=_Tile2.default.size),_get(Mushroom.prototype.__proto__||Object.getPrototypeOf(Mushroom.prototype),"onTouch",this).call(this,by)}}]),Mushroom}(Powerup),exports.Sign=function(_Entity4){function Sign(game){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,Sign);var _this5=_possibleConstructorReturn(this,(Sign.__proto__||Object.getPrototypeOf(Sign)).call(this,game));return _this5.x=x,_this5.y=y,_this5.w=44,_this5.h=45,_this5.game.entities.push(_this5),_this5.sprite.sheet.src="tileset.png",_this5.sprite.positionType="absolute",_this5.sprite.position=[80,32],_this5.sprite.width=44,_this5.sprite.height=47,_this5}return _inherits(Sign,_Entity4),Sign}(Entity),exports.Coin=function(_Entity5){function Coin(game){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,Coin);var _this6=_possibleConstructorReturn(this,(Coin.__proto__||Object.getPrototypeOf(Coin)).call(this,game));return _this6.x=x,_this6.y=y,_this6.w=16,_this6.h=16,_this6.sprite.sheet.src="sprites/coin.png",_this6.sprite.width=16,_this6.sprite.height=16,_this6.spriteAnimation={time:0,nextFrame:0},_this6.coinSound=new window.Audio("sound/smw_coin.wav"),_this6}return _inherits(Coin,_Entity5),_createClass(Coin,[{key:"update",value:function(){var anim=this.spriteAnimation;anim.time>=anim.nextFrame&&(anim.nextFrame=anim.time+10,this.sprite.position[0]=(this.sprite.position[0]+1)%4),anim.time++}},{key:"onTouch",value:function(by){by instanceof Player&&(this.coinSound.play(),this.destroy())}}]),Coin}(Entity)},{"./Level":6,"./SLW":7,"./Tile":9,"./util":12,pleasejs:1}],6:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SLW=require("./SLW"),_Tile=(_interopRequireDefault(_SLW),require("./Tile")),_Tile2=_interopRequireDefault(_Tile),_util=require("./util"),MUSIC_VOLUMES=(require("toml"),{airship:.25,athletic:.25,beach:1,castle:.25,"ice-cave":.25,"file-select":.5,"flower-gardens":1,grassland:.15,jungle:.25,"kapper-valley":.25,"star-world":.25,"underwater-underworld":1,water:.25,underground:.5}),Level=function(){function Level(game,levelid,tileset){_classCallCheck(this,Level),this.game=game,this.tileset=tileset,this.meta=_util.levels[levelid],this.debug=!!this.meta.debug;var leveldata=this.meta.tilemap;this.tilemap=[];for(var rows=leveldata.split("\n"),y=0;y<rows.length-1;y++){this.tilemap[y]=[];for(var row=rows[y],x=0;x<row.length;x++){var tileid=row[x];this.meta.special.includes("world")&&(tileid="W "+tileid);var tile=new(_Tile2.default.get(tileid))(this.game);tile.x=x,tile.y=y,tile.game=game,tile.exists=!0,this.tilemap[y].push(tile)}}this.h=this.tilemap.length,this.w=this.tilemap[0].length,this.music=new window.Audio("sound/music/"+this.meta.music+".mp3"),this.music.volume=MUSIC_VOLUMES[this.meta.music]||.5,this.music.loop=!0,this.music.play()}return _createClass(Level,null,[{key:"metaOf",value:function(levelid){return _util.levels[levelid]}}]),_createClass(Level,[{key:"create",value:function(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.tilemap[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var row=_step.value,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=row[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var tile=_step2.value;tile.onCreate()}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"destroy",value:function(){this.music.pause()}},{key:"update",value:function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.tilemap[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var row=_step3.value,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=row[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var tile=_step4.value;tile.onUpdate()}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"draw",value:function(){var ctx=this.game.canvas.getContext("2d");if(ctx instanceof CanvasRenderingContext2D)for(var viewStartX=Math.floor(this.game.camera[0]/_Tile2.default.size),viewStartY=Math.floor(this.game.camera[1]/_Tile2.default.size),viewEndX=Math.ceil(this.game.camera[0]/_Tile2.default.size)+25,viewEndY=Math.ceil(this.game.camera[1]/_Tile2.default.size)+25,y=viewStartY;y<viewEndY;y++)for(var x=viewStartX;x<viewEndX;x++){var tile=this.tileAt([x,y]),_getAbsolutePosition=this.getAbsolutePosition([x,y]),_getAbsolutePosition2=_slicedToArray(_getAbsolutePosition,2),rendX=_getAbsolutePosition2[0],rendY=_getAbsolutePosition2[1],_tile$texPosition=_slicedToArray(tile.texPosition,2),tileX=_tile$texPosition[0],tileY=_tile$texPosition[1];ctx.drawImage(this.tileset,tileX*_Tile2.default.size,tileY*_Tile2.default.size,_Tile2.default.size,_Tile2.default.size,rendX+tile.dx,rendY+tile.dy,_Tile2.default.size,_Tile2.default.size)}}},{key:"tileAt",value:function(_ref){var _ref2=_slicedToArray(_ref,2),tileX=_ref2[0],tileY=_ref2[1];tileX=Math.floor(tileX),tileY=Math.floor(tileY);try{var r=this.tilemap[tileY][tileX];if("undefined"==typeof r)throw"nope";return r}catch(e){return new(_Tile2.default.get("-"))(this.game)}}},{key:"replaceTile",value:function(_ref3,newTile){var _ref4=_slicedToArray(_ref3,2),tileX=_ref4[0],tileY=_ref4[1];newTile.x=tileX,newTile.y=tileY,newTile.game=this.game,newTile.exists=!0;var oldTile=this.tileAt([tileX,tileY]);return oldTile.exists=!1,oldTile.onDestroy(),this.tilemap[tileY][tileX]=newTile,newTile.onCreate(),newTile}},{key:"getAbsolutePosition",value:function(_ref5){var _ref6=_slicedToArray(_ref5,2),tileX=_ref6[0],tileY=_ref6[1];return[Math.floor(tileX*_Tile2.default.size),Math.floor(tileY*_Tile2.default.size)]}}]),Level}();exports.default=Level},{"./SLW":7,"./Tile":9,"./util":12,toml:2}],7:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Tile=require("./Tile"),_Tile2=_interopRequireDefault(_Tile),_Text=require("./Text"),_Text2=_interopRequireDefault(_Text),_Level=require("./Level"),_Level2=_interopRequireDefault(_Level),_Entity=require("./Entity"),BG_COLORS={clouds:"#A0D0F8",hills:"#F8E0B0"},BG_REPEATS={clouds:"repeat-x",hills:"repeat-y"},SLW=function(){function SLW(levelid,tileset){var _this=this;_classCallCheck(this,SLW),this.keys={},this.cursor=[0,0],this.entities=[],this.canvas=document.createElement("canvas"),this.canvas.width=400,this.canvas.height=400,this.canvas.addEventListener("keydown",function(evt){_this.keys[evt.keyCode]=!0}),this.canvas.addEventListener("keyup",function(evt){_this.keys[evt.keyCode]=!1}),this.canvas.addEventListener("mousemove",function(evt){var rect=_this.canvas.getBoundingClientRect();_this.cursor=[evt.clientX-rect.left,evt.clientY-rect.top]}),this.canvas.setAttribute("tabindex","1"),this.player=new _Entity.Player(this,16,16),this.camera=[0,0],this.level=new _Level2.default(this,levelid,tileset),this.tick=0,this.level.create()}return _createClass(SLW,[{key:"canvasClear",value:function(){var ctx=this.canvas.getContext("2d");ctx instanceof CanvasRenderingContext2D&&(ctx.fillStyle=BG_COLORS[this.level.meta.background]||"black",ctx.fillRect(0,0,this.canvas.width,this.canvas.height))}},{key:"cameraUpdate",value:function(){var x=this.player.x,y=this.player.y,minY=_Tile2.default.size+this.canvas.height/2,maxY=(this.level.h-1)*_Tile2.default.size-this.canvas.height/2,minX=_Tile2.default.size+this.canvas.width/2,maxX=(this.level.w-1)*_Tile2.default.size-this.canvas.width/2;if(y<minY&&(y=minY),y>maxY&&(y=maxY),x<minX&&(x=minX),x>maxX&&(x=maxX),this.level.meta.special.includes("floating")){var wave=Math.sin(this.tick/40)*_Tile2.default.size/2;y+=wave}var lag=this.tick>0?8:1;this.camera[0]+=(x-this.canvas.width/2-this.camera[0])/lag,this.camera[1]+=(y-this.canvas.height/2-this.camera[1])/lag}},{key:"entityUpdate",value:function(){this.entities.forEach(function(e){return e.update()})}},{key:"draw",value:function(){var ctx=this.canvas.getContext("2d");if(ctx instanceof CanvasRenderingContext2D){var tx=-.25*this.camera[0],ty=-.25*this.camera[1];if(this.level.meta.special.includes("floating")&&(tx+=-.25*this.tick),ctx.save(),ctx.translate(tx,ty),"none"===this.level.meta.background)var ptrn="black";else{var bg=new Image;bg.src="background/"+this.level.meta.background+".png";var ptrn=ctx.createPattern(bg,BG_REPEATS[this.level.meta.background]||"repeat")}ctx.fillStyle=ptrn,ctx.fillRect(-tx,-ty,this.canvas.width,this.canvas.height),ctx.restore(),ctx.save(),ctx.translate(Math.floor(-this.camera[0]),Math.floor(-this.camera[1]));var entities=this.entities.sort(function(a,b){return a.z>b.z?1:a.z<b.z?-1:0;
});if(entities.filter(function(e){return e.z<0}).forEach(function(e){return e.draw()}),this.level.draw(),entities.filter(function(e){return e.z>=0}).forEach(function(e){return e.draw()}),this.player.draw(),ctx.restore(),this.level.meta.special.includes("world")){var on=this.player.tileOn,str=this.level.meta.name;if("Level"===on.name){var level=_Level2.default.metaOf(this.level.meta.id+"-"+on.levelid);str+=level?" . "+(on.levelid||0)+" "+level.name:" . Level doesn't exist rip"}ctx.drawImage(_Text2.default.write(str),4,4)}this.level.debug&&(ctx.drawImage(_Text2.default.write("x: "+this.player.x),2,6),ctx.drawImage(_Text2.default.write("y: "+this.player.y),2,8));var cursor=new Image;cursor.src="sprites/cursor.png",ctx.drawImage(cursor,16*Math.floor(this.cursor[0]/16)-4,16*Math.floor(this.cursor[1]/16)-4),this.tick++}}}]),SLW}();exports.default=SLW},{"./Entity":5,"./Level":6,"./Text":8,"./Tile":9}],8:[function(require,module,exports){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_util=require("./util");exports.default=Text={write:function(){var str=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",color=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",canvas=document.createElement("canvas");canvas.width=8*Math.max.apply(Math,_toConsumableArray(str.split("\n").map(function(chars){return chars.length}))),canvas.height=8*str.split("\n").length;var ctx=canvas.getContext("2d");if(!ctx)throw new TypeError("Failed to get new canvas context.");var img=(0,_util.tint)(Text.set,color),x=0,y=0;for(var i in str){var char=str[i];if("\n"===char)x=0,y+=8;else{var _ref=Text.map[char]||[0,0],_ref2=_slicedToArray(_ref,2),dx=_ref2[0],dy=_ref2[1];ctx.drawImage(img,8*dx,8*dy+1,8,8,x,y,8,8),x+=8}}return canvas},set:new Image,map:{A:[0,0],B:[1,0],C:[2,0],D:[3,0],E:[4,0],F:[5,0],G:[6,0],H:[7,0],I:[8,0],J:[9,0],K:[10,0],L:[11,0],M:[12,0],N:[13,0],O:[14,0],P:[15,0],Q:[16,0],R:[17,0],S:[0,1],T:[1,1],U:[2,1],V:[3,1],W:[4,1],X:[5,1],Y:[6,1],Z:[7,1],a:[8,1],b:[9,1],c:[10,1],d:[11,1],e:[12,1],f:[13,1],g:[14,1],h:[15,1],i:[16,1],j:[17,1],k:[0,2],l:[1,2],m:[2,2],n:[3,2],o:[4,2],p:[5,2],q:[6,2],r:[7,2],s:[8,2],t:[9,2],u:[10,2],v:[11,2],w:[12,2],x:[13,2],y:[14,2],z:[15,2],"?":[0,3],"!":[1,3],".":[2,3],"'":[3,3],"(":[4,3],")":[5,3],"#":[6,3]," ":[7,3],"-":[8,3],0:[0,4],1:[1,4],2:[2,4],3:[3,4],4:[4,4],5:[5,4],6:[6,4],7:[7,4],8:[8,4],9:[9,4]}},Text.set.src="sprites/text.png"},{"./util":12}],9:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tilemap=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SLW=require("./SLW"),_util=(_interopRequireDefault(_SLW),require("./util")),_Entity=require("./Entity"),Tile=function(){function Tile(game){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Tile),this.game=game,this.name=props.name||"Unknown",this.texPosition=props.texPosition,this.solid=props.solid||!1,this.solidTop=props.solidTop||!1,this.exists=!1,this.dx=0,this.dy=0}return _createClass(Tile,[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onTouch",value:function(by){}},{key:"onStand",value:function(by){}},{key:"onAirPunch",value:function(){}}],[{key:"get",value:function(str){var tile=tilemap.get(str);if(tile)return tile;throw new RangeError("Tile "+str+" not found.")}}]),Tile}();exports.default=Tile;var tilemap=exports.tilemap=new Map([["=",function(_Tile){function GroundTile(game){return _classCallCheck(this,GroundTile),_possibleConstructorReturn(this,(GroundTile.__proto__||Object.getPrototypeOf(GroundTile)).call(this,game,{name:"Ground",texPosition:[4,5],solid:!0}))}return _inherits(GroundTile,_Tile),_createClass(GroundTile,[{key:"onCreate",value:function(){var topTile=this.game.level.tileAt([this.x,this.y-1]),bottomTile=this.game.level.tileAt([this.x,this.y+1]),leftTile=this.game.level.tileAt([this.x-1,this.y]),rightTile=this.game.level.tileAt([this.x+1,this.y]),top=topTile.name===this.name,bottom=bottomTile.name===this.name,left=leftTile.name===this.name,right=rightTile.name===this.name,topLeftTile=this.game.level.tileAt([this.x-1,this.y-1]),topRightTile=this.game.level.tileAt([this.x+1,this.y-1]),bottomLeftTile=this.game.level.tileAt([this.x-1,this.y+1]),bottomRightTile=this.game.level.tileAt([this.x+1,this.y+1]),topLeft=topLeftTile.name===this.name,topRight=topRightTile.name===this.name,bottomLeft=bottomLeftTile.name===this.name,bottomRight=bottomRightTile.name===this.name;top&&left&&right&&bottom&&(this.texPosition=[1,6]),!top&&left&&right&&bottom&&(this.texPosition=[1,5]),!top&&!left&&right&&bottom&&(this.texPosition=[0,5]),!top&&left&&!right&&bottom&&(this.texPosition=[2,5]),top&&!left&&right&&bottom&&(this.texPosition=[0,6]),top&&!left&&right&&!bottom&&(this.texPosition=[0,7]),top&&left&&right&&!bottom&&(this.texPosition=[1,7]),top&&left&&!right&&!bottom&&(this.texPosition=[2,7]),top&&left&&!right&&bottom&&(this.texPosition=[2,6]),top&&left&&right&&bottom&&!topLeft&&!topRight&&(this.texPosition=[5,5]),top&&left&&right&&bottom&&!topLeft&&topRight&&(this.texPosition=[3,6]),top&&left&&right&&bottom&&topLeft&&!topRight&&(this.texPosition=[4,6]),top&&left&&right&&bottom&&!bottomLeft&&(this.texPosition=[6,6]),top&&left&&right&&bottom&&!bottomRight&&(this.texPosition=[5,6]),!top&&left&&right&&bottom&&!bottomRight&&(this.texPosition=[6,5]),!top&&left&&right&&bottom&&!bottomLeft&&(this.texPosition=[7,5]),top&&left&&right&&!bottom&&!topLeft&&!topRight&&(this.texPosition=[6,7]),top||left||!right||bottom||(this.texPosition=[3,7]),left&&right&&!bottom&&!top&&(this.texPosition=[4,7]),!left||right||bottom||top||(this.texPosition=[5,7]),top||left||right||!bottom||(this.texPosition=[3,5]),top&&!left&&!right&&bottom&&(this.texPosition=[7,6]),!top||left||right||bottom||(this.texPosition=[7,7]),top&&left&&!right&&bottom&&!topLeft&&(this.texPosition=[8,5])}}]),GroundTile}(Tile)],["P",function(_Tile2){function PipeTile(game){return _classCallCheck(this,PipeTile),_possibleConstructorReturn(this,(PipeTile.__proto__||Object.getPrototypeOf(PipeTile)).call(this,game,{name:"Pipe",texPosition:[8,4],solid:!0}))}return _inherits(PipeTile,_Tile2),_createClass(PipeTile,[{key:"onCreate",value:function(){var topTile=this.game.level.tileAt([this.x,this.y-1]),bottomTile=this.game.level.tileAt([this.x,this.y+1]),leftTile=this.game.level.tileAt([this.x-1,this.y]),rightTile=this.game.level.tileAt([this.x+1,this.y]),top=topTile.name===this.name,bottom=bottomTile.name===this.name||"Ground"===bottomTile.name,right=(leftTile.name===this.name,rightTile.name===this.name),topLeftTile=this.game.level.tileAt([this.x-1,this.y-1]),topRightTile=this.game.level.tileAt([this.x+1,this.y-1]),bottomLeftTile=this.game.level.tileAt([this.x-1,this.y+1]),bottomRightTile=this.game.level.tileAt([this.x+1,this.y+1]);topLeftTile.name===this.name,topRightTile.name===this.name,bottomLeftTile.name===this.name,bottomRightTile.name===this.name;right||(this.texPosition[0]=9),bottom||(this.texPosition[1]=4),top||(this.texPosition[1]=2),top&&bottom&&(this.texPosition[1]=3)}}]),PipeTile}(Tile)],["?",function(_Tile3){function QBlockTile(game){return _classCallCheck(this,QBlockTile),_possibleConstructorReturn(this,(QBlockTile.__proto__||Object.getPrototypeOf(QBlockTile)).call(this,game,{name:"? Block",texPosition:[0,4],solid:!0}))}return _inherits(QBlockTile,_Tile3),_createClass(QBlockTile,[{key:"onCreate",value:function(){this.i=0}},{key:"onUpdate",value:function(){this.i+=.1,this.i>=4&&(this.i=0),this.texPosition[0]=Math.max(Math.floor(this.i),0)}},{key:"onAirPunch",value:function(){if(new window.Audio("sound/smw_shell_ricochet.wav").play(),this.game&&this.x&&this.y){var tile=new(Tile.get("x"))(this.game),usedBlock=this.game.level.replaceTile([this.x,this.y],tile);usedBlock.dy=-.5*Tile.size;var _game$level$getAbsolu=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu2=_slicedToArray(_game$level$getAbsolu,2),x=_game$level$getAbsolu2[0],y=_game$level$getAbsolu2[1],shroom=new _Entity.Mushroom(this.game,x,0);shroom.y=y-shroom.h-1,shroom.yv=-1.5,this.game.entities.push(shroom)}}}]),QBlockTile}(Tile)],["x",function(_Tile4){function UsedBlockTile(game){return _classCallCheck(this,UsedBlockTile),_possibleConstructorReturn(this,(UsedBlockTile.__proto__||Object.getPrototypeOf(UsedBlockTile)).call(this,game,{name:"Used Block",texPosition:[4,4],solid:!0}))}return _inherits(UsedBlockTile,_Tile4),_createClass(UsedBlockTile,[{key:"onAirPunch",value:function(){var snd=new window.Audio("sound/smw_shell_ricochet.wav");snd.volume=.5,snd.play()}},{key:"onUpdate",value:function(){this.dy<0?this.dy=Math.ceil(.9*this.dy):this.dy=0}}]),UsedBlockTile}(Tile)],["*",function(_Tile5){function InvisibleBlockTile(game){return _classCallCheck(this,InvisibleBlockTile),_possibleConstructorReturn(this,(InvisibleBlockTile.__proto__||Object.getPrototypeOf(InvisibleBlockTile)).call(this,game,{name:"Invisible Block",texPosition:[0,0],solid:!0}))}return _inherits(InvisibleBlockTile,_Tile5),InvisibleBlockTile}(Tile)],["~",function(_Tile6){function DonutTile(game){_classCallCheck(this,DonutTile);var _this6=_possibleConstructorReturn(this,(DonutTile.__proto__||Object.getPrototypeOf(DonutTile)).call(this,game,{name:"Donut Block",texPosition:[4,3],solid:!1,solidTop:!0}));return _this6.fallVelocity=0,_this6.fallCountdown=40,_this6.falling=!1,_this6.lastStoodOn=Date.now(),_this6}return _inherits(DonutTile,_Tile6),_createClass(DonutTile,[{key:"onUpdate",value:function(){this.falling&&(this.dy+=this.fallVelocity,this.dx=0,this.fallVelocity<6&&(this.fallVelocity+=.3)),this.lastStoodOn-Date.now()<-5&&!this.falling&&(this.texPosition=[4,3],this.fallCountdown=40,this.dx=0,this.dy=0),this.lastStoodOn-Date.now()<-2500&&this.falling&&(this.solidTop=!0,this.dx=0,this.dy=0,this.fallCountdown=40,this.texPosition=[4,3],this.fallVelocity=0,this.falling=!1)}},{key:"onStand",value:function(){this.fallCountdown--,this.fallCountdown<=0?(this.falling=!0,this.solidTop=!1):(this.dx=(0,_util.rnd)(-2,2),this.dy=(0,_util.rnd)(-2,2)),this.lastStoodOn=Date.now(),this.texPosition=[4,2]}}]),DonutTile}(Tile)],["-",function(_Tile7){function AirTile(game){return _classCallCheck(this,AirTile),_possibleConstructorReturn(this,(AirTile.__proto__||Object.getPrototypeOf(AirTile)).call(this,game,{name:"Air",texPosition:[0,0]}))}return _inherits(AirTile,_Tile7),_createClass(AirTile,[{key:"onCreate",value:function(){var topTile=this.game.level.tileAt([this.x,this.y-1]),bottomTile=this.game.level.tileAt([this.x,this.y+1]),bottomLeftTile=(this.game.level.tileAt([this.x-1,this.y]),this.game.level.tileAt([this.x+1,this.y]),this.game.level.tileAt([this.x-1,this.y-1]),this.game.level.tileAt([this.x+1,this.y-1]),this.game.level.tileAt([this.x-1,this.y+1])),bottomRightTile=this.game.level.tileAt([this.x+1,this.y+1]);if("Ground"===bottomTile.name&&"Ground"===bottomLeftTile.name&&"Ground"===bottomRightTile.name){var foliage=(0,_util.rnd)(0,4);if(0===foliage){var what=(0,_util.rnd)(0,4);if(0===what){if(topTile.name!==this.name)return;this.texPosition=[0,1],topTile.texPosition=[1,0]}else this.texPosition=[what,1]}}}}]),AirTile}(Tile)],["C",function(_Tile8){function CloudTile(game){return _classCallCheck(this,CloudTile),_possibleConstructorReturn(this,(CloudTile.__proto__||Object.getPrototypeOf(CloudTile)).call(this,game,{name:"Cloud",texPosition:[4,1],solidTop:!0}))}return _inherits(CloudTile,_Tile8),CloudTile}(Tile)],["0",function(_Tile9){function CoinTile(game){_classCallCheck(this,CoinTile);var _this9=_possibleConstructorReturn(this,(CoinTile.__proto__||Object.getPrototypeOf(CoinTile)).call(this,game,{name:"Coin",texPosition:[0,3]}));return _this9.coinSound=new window.Audio("sound/smw_coin.wav"),_this9}return _inherits(CoinTile,_Tile9),_createClass(CoinTile,[{key:"onCreate",value:function(){this.i=0;var tile=new(Tile.get("-"))(this.game),coin=new _Entity.Coin(this.game),_game$level$getAbsolu3=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu4=_slicedToArray(_game$level$getAbsolu3,2),x=_game$level$getAbsolu4[0],y=_game$level$getAbsolu4[1];coin.x=x,coin.y=y-coin.h+Tile.size-1,this.game.level.replaceTile([this.x,this.y],tile),this.game.entities.push(coin)}},{key:"onUpdate",value:function(){this.i+=.1,this.i>=4&&(this.i=0),this.texPosition[0]=Math.max(Math.floor(this.i),0)}},{key:"onTouch",value:function(by){if(by instanceof _Entity.Player){var tile=new(Tile.get("-"))(this.game);this.game.level.replaceTile([this.x,this.y],tile),this.coinSound.play()}}}]),CoinTile}(Tile)],["@",function(_Tile10){function PlayerTile(game){return _classCallCheck(this,PlayerTile),_possibleConstructorReturn(this,(PlayerTile.__proto__||Object.getPrototypeOf(PlayerTile)).call(this,game,{name:"Player",texPosition:[0,0]}))}return _inherits(PlayerTile,_Tile10),_createClass(PlayerTile,[{key:"onCreate",value:function(){var _game$level$getAbsolu5=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu6=_slicedToArray(_game$level$getAbsolu5,2),x=_game$level$getAbsolu6[0],y=_game$level$getAbsolu6[1];this.game.player.x=x,this.game.player.y=y-this.game.player.h+Tile.size-1;var tile=new(Tile.get("-"))(this.game);this.game.level.replaceTile([this.x,this.y],tile)}}]),PlayerTile}(Tile)],[">",function(_Tile11){function SignTile(game){return _classCallCheck(this,SignTile),_possibleConstructorReturn(this,(SignTile.__proto__||Object.getPrototypeOf(SignTile)).call(this,game,{name:"Sign",texPosition:[0,0]}))}return _inherits(SignTile,_Tile11),_createClass(SignTile,[{key:"onCreate",value:function(){var sign=new _Entity.Sign(this.game),_game$level$getAbsolu7=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu8=_slicedToArray(_game$level$getAbsolu7,2),x=_game$level$getAbsolu8[0],y=_game$level$getAbsolu8[1];sign.x=x,sign.y=y-sign.h+Tile.size-2;var tile=new(Tile.get("-"))(this.game);this.game.level.replaceTile([this.x,this.y],tile)}}]),SignTile}(Tile)],["G",function(_Tile12){function GoombaTile(game){return _classCallCheck(this,GoombaTile),_possibleConstructorReturn(this,(GoombaTile.__proto__||Object.getPrototypeOf(GoombaTile)).call(this,game,{name:"Goomba",texPosition:[0,0]}))}return _inherits(GoombaTile,_Tile12),_createClass(GoombaTile,[{key:"onCreate",value:function(){var goomba=new _Entity.Goomba(this.game),_game$level$getAbsolu9=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu10=_slicedToArray(_game$level$getAbsolu9,2),x=_game$level$getAbsolu10[0],y=_game$level$getAbsolu10[1];goomba.x=x,goomba.y=y-goomba.h+Tile.size-1,this.game.entities.push(goomba);var tile=new(Tile.get("-"))(this.game);this.game.level.replaceTile([this.x,this.y],tile)}}]),GoombaTile}(Tile)],["#",function(_Tile13){function DeathZoneTile(game){return _classCallCheck(this,DeathZoneTile),_possibleConstructorReturn(this,(DeathZoneTile.__proto__||Object.getPrototypeOf(DeathZoneTile)).call(this,game,{name:"Death Zone",texPosition:[0,0]}))}return _inherits(DeathZoneTile,_Tile13),_createClass(DeathZoneTile,[{key:"onTouch",value:function(by){by.destroy()}}]),DeathZoneTile}(Tile)],["W ~",function(_Tile14){function WorldWaterTile(game){_classCallCheck(this,WorldWaterTile);var _this14=_possibleConstructorReturn(this,(WorldWaterTile.__proto__||Object.getPrototypeOf(WorldWaterTile)).call(this,game,{name:"Water",texPosition:[0,15]}));return _this14.solid=!0,_this14}return _inherits(WorldWaterTile,_Tile14),WorldWaterTile}(Tile)],["W  ",function(_Tile15){function WorldGroundTile(game){_classCallCheck(this,WorldGroundTile);var _this15=_possibleConstructorReturn(this,(WorldGroundTile.__proto__||Object.getPrototypeOf(WorldGroundTile)).call(this,game,{name:"Ground",texPosition:[1,13]}));return _this15.solid=!0,_this15}return _inherits(WorldGroundTile,_Tile15),_createClass(WorldGroundTile,[{key:"onUpdate",value:function(){var topTile=this.game.level.tileAt([this.x,this.y-1]),bottomTile=this.game.level.tileAt([this.x,this.y+1]),leftTile=this.game.level.tileAt([this.x-1,this.y]),rightTile=this.game.level.tileAt([this.x+1,this.y]),top="Water"!==topTile.name,bottom="Water"!==bottomTile.name,left="Water"!==leftTile.name,right="Water"!==rightTile.name,topLeftTile=this.game.level.tileAt([this.x-1,this.y-1]),topRightTile=this.game.level.tileAt([this.x+1,this.y-1]),bottomLeftTile=this.game.level.tileAt([this.x-1,this.y+1]),bottomRightTile=this.game.level.tileAt([this.x+1,this.y+1]),topLeft="Water"!==topLeftTile.name,topRight="Water"!==topRightTile.name,bottomLeft="Water"!==bottomLeftTile.name,bottomRight="Water"!==bottomRightTile.name;!left&&top&&right&&bottom&&(this.texPosition=[0,13]),left&&top&&!right&&bottom&&(this.texPosition=[2,13]),left&&!top&&right&&bottom&&(this.texPosition=[1,12]),left&&top&&right&&!bottom&&(this.texPosition=[1,14]),left&&!top&&!right&&bottom&&(this.texPosition=[2,12]),!left&&!top&&right&&bottom&&(this.texPosition=[0,12]),left&&top&&!right&&!bottom&&(this.texPosition=[2,14]),!left&&top&&right&&!bottom&&(this.texPosition=[0,14]),left&&top&&right&&bottom&&!topRight&&(this.texPosition=[3,13]),left&&top&&right&&bottom&&!topLeft&&(this.texPosition=[4,13]),left&&top&&right&&bottom&&!bottomRight&&(this.texPosition=[3,12]),left&&top&&right&&bottom&&!bottomLeft&&(this.texPosition=[4,12])}}]),WorldGroundTile}(Tile)],["W @",function(_Tile16){function WorldPlayerTile(game){return _classCallCheck(this,WorldPlayerTile),_possibleConstructorReturn(this,(WorldPlayerTile.__proto__||Object.getPrototypeOf(WorldPlayerTile)).call(this,game,{name:"Player",texPosition:[0,0]}))}return _inherits(WorldPlayerTile,_Tile16),_createClass(WorldPlayerTile,[{key:"onCreate",value:function(){var _game$level$getAbsolu11=this.game.level.getAbsolutePosition([this.x,this.y]),_game$level$getAbsolu12=_slicedToArray(_game$level$getAbsolu11,2),x=_game$level$getAbsolu12[0],y=_game$level$getAbsolu12[1];this.game.player.x=x,this.game.player.y=y;var tile=new(Tile.get("W P"))(this.game);this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldPlayerTile}(Tile)],["W :",function(_Tile17){function WorldFenceTile(game){_classCallCheck(this,WorldFenceTile);var _this17=_possibleConstructorReturn(this,(WorldFenceTile.__proto__||Object.getPrototypeOf(WorldFenceTile)).call(this,game,{name:"Fence",texPosition:[4,14]}));return _this17.solid=!0,_this17}return _inherits(WorldFenceTile,_Tile17),WorldFenceTile}(Tile)],["W .",function(_Tile18){function WorldFlowerTile(game){_classCallCheck(this,WorldFlowerTile);var _this18=_possibleConstructorReturn(this,(WorldFlowerTile.__proto__||Object.getPrototypeOf(WorldFlowerTile)).call(this,game,{name:"Flower",texPosition:[3,14]}));return _this18.solid=!0,_this18}return _inherits(WorldFlowerTile,_Tile18),WorldFlowerTile}(Tile)],["W P",function(_Tile19){function WorldPipeTile(game){return _classCallCheck(this,WorldPipeTile),_possibleConstructorReturn(this,(WorldPipeTile.__proto__||Object.getPrototypeOf(WorldPipeTile)).call(this,game,{name:"Pipe",texPosition:[0,11]}))}return _inherits(WorldPipeTile,_Tile19),WorldPipeTile}(Tile)],["W H",function(_Tile20){function WorldHouseTile(game){return _classCallCheck(this,WorldHouseTile),_possibleConstructorReturn(this,(WorldHouseTile.__proto__||Object.getPrototypeOf(WorldHouseTile)).call(this,game,{name:"House",texPosition:[1,11]}))}return _inherits(WorldHouseTile,_Tile20),WorldHouseTile}(Tile)],["W -",function(_Tile21){function WorldPathTile(game){return _classCallCheck(this,WorldPathTile),_possibleConstructorReturn(this,(WorldPathTile.__proto__||Object.getPrototypeOf(WorldPathTile)).call(this,game,{name:"Path",texPosition:[1,9]}))}return _inherits(WorldPathTile,_Tile21),_createClass(WorldPathTile,[{key:"onUpdate",value:function(){var topTile=this.game.level.tileAt([this.x,this.y-1]),bottomTile=this.game.level.tileAt([this.x,this.y+1]),leftTile=this.game.level.tileAt([this.x-1,this.y]),rightTile=this.game.level.tileAt([this.x+1,this.y]),k=[this.name,"Level","Pipe"],top=k.includes(topTile.name),bottom=k.includes(bottomTile.name),left=k.includes(leftTile.name),right=k.includes(rightTile.name);top&&!left&&!right&&bottom&&(this.texPosition=[2,8]),top&&left&&!right&&!bottom&&(this.texPosition=[3,9]),top&&!left&&right&&bottom&&(this.texPosition=[2,10]),!top&&!left&&right&&bottom&&(this.texPosition=[3,8]),top&&!left&&right&&!bottom&&(this.texPosition=[1,8]),!top&&left&&!right&&bottom&&(this.texPosition=[1,10])}}]),WorldPathTile}(Tile)],["W lv",function(_Tile22){function WorldLevelTile(game){_classCallCheck(this,WorldLevelTile);var _this22=_possibleConstructorReturn(this,(WorldLevelTile.__proto__||Object.getPrototypeOf(WorldLevelTile)).call(this,game,{name:"Level",texPosition:[2,9]}));return _this22.complete=!1,_this22}return _inherits(WorldLevelTile,_Tile22),_createClass(WorldLevelTile,[{key:"onUpdate",value:function(){this.texPosition=this.complete?[2,9]:[3,10]}}]),WorldLevelTile}(Tile)],["W 1",function(_Tile23){function WorldLevel1Tile(game){return _classCallCheck(this,WorldLevel1Tile),_possibleConstructorReturn(this,(WorldLevel1Tile.__proto__||Object.getPrototypeOf(WorldLevel1Tile)).call(this,game,{name:"Level 1",texPosition:[0,0]}))}return _inherits(WorldLevel1Tile,_Tile23),_createClass(WorldLevel1Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=1,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel1Tile}(Tile)],["W 2",function(_Tile24){function WorldLevel2Tile(game){return _classCallCheck(this,WorldLevel2Tile),_possibleConstructorReturn(this,(WorldLevel2Tile.__proto__||Object.getPrototypeOf(WorldLevel2Tile)).call(this,game,{name:"Level 2",texPosition:[0,0]}))}return _inherits(WorldLevel2Tile,_Tile24),_createClass(WorldLevel2Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=2,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel2Tile}(Tile)],["W 3",function(_Tile25){function WorldLevel3Tile(game){return _classCallCheck(this,WorldLevel3Tile),_possibleConstructorReturn(this,(WorldLevel3Tile.__proto__||Object.getPrototypeOf(WorldLevel3Tile)).call(this,game,{name:"Level 3",texPosition:[0,0]}))}return _inherits(WorldLevel3Tile,_Tile25),_createClass(WorldLevel3Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=3,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel3Tile}(Tile)],["W 4",function(_Tile26){function WorldLevel4Tile(game){return _classCallCheck(this,WorldLevel4Tile),_possibleConstructorReturn(this,(WorldLevel4Tile.__proto__||Object.getPrototypeOf(WorldLevel4Tile)).call(this,game,{name:"Level 4",texPosition:[0,0]}))}return _inherits(WorldLevel4Tile,_Tile26),_createClass(WorldLevel4Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=4,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel4Tile}(Tile)],["W 5",function(_Tile27){function WorldLevel5Tile(game){return _classCallCheck(this,WorldLevel5Tile),_possibleConstructorReturn(this,(WorldLevel5Tile.__proto__||Object.getPrototypeOf(WorldLevel5Tile)).call(this,game,{name:"Level 5",texPosition:[0,0]}))}return _inherits(WorldLevel5Tile,_Tile27),_createClass(WorldLevel5Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=5,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel5Tile}(Tile)],["W 6",function(_Tile28){function WorldLevel6Tile(game){return _classCallCheck(this,WorldLevel6Tile),_possibleConstructorReturn(this,(WorldLevel6Tile.__proto__||Object.getPrototypeOf(WorldLevel6Tile)).call(this,game,{name:"Level 6",texPosition:[0,0]}))}return _inherits(WorldLevel6Tile,_Tile28),_createClass(WorldLevel6Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=6,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel6Tile}(Tile)],["W 7",function(_Tile29){function WorldLevel7Tile(game){return _classCallCheck(this,WorldLevel7Tile),_possibleConstructorReturn(this,(WorldLevel7Tile.__proto__||Object.getPrototypeOf(WorldLevel7Tile)).call(this,game,{name:"Level 7",texPosition:[0,0]}))}return _inherits(WorldLevel7Tile,_Tile29),_createClass(WorldLevel7Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=7,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel7Tile}(Tile)],["W 8",function(_Tile30){function WorldLevel8Tile(game){return _classCallCheck(this,WorldLevel8Tile),_possibleConstructorReturn(this,(WorldLevel8Tile.__proto__||Object.getPrototypeOf(WorldLevel8Tile)).call(this,game,{name:"Level 8",texPosition:[0,0]}))}return _inherits(WorldLevel8Tile,_Tile30),_createClass(WorldLevel8Tile,[{key:"onCreate",value:function(){var tile=new(Tile.get("W lv"))(this.game);tile.levelid=8,this.game.level.replaceTile([this.x,this.y],tile)}}]),WorldLevel8Tile}(Tile)]]);Tile.size=16},{"./Entity":5,"./SLW":7,"./util":12}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _SLW=require("./SLW"),_SLW2=_interopRequireDefault(_SLW);window.addEventListener("load",function(e){var tileset=new Image;tileset.onload=function(){var game=new _SLW2.default("F",tileset);window.game=game,document.body.appendChild(game.canvas),game.tileset=tileset,game.canvas.focus();!function render(){requestAnimationFrame(render),document.hasFocus()&&(game.player.update(),game.cameraUpdate(),game.level.update(),game.entityUpdate(),game.canvasClear(),game.draw())}()},tileset.src="tileset.png"})},{"./SLW":7}],11:[function(require,module,exports){module.exports='# Worlds & Levels..\r\n\r\n[F]\r\nid="F"\r\nname="Flower Gardens"\r\nmusic="flower-gardens"\r\nspecial=["world"]\r\nbackground="none"\r\ntilemap = """\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  @ ..   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~        ~~~   ~~~   - ...       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~     --7--  ~  P ~~~ . -      ..   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~   ::: -   -     -  ~~ . 1---------    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~  6------ ~ ------8  ~~ . ::      :- .  ~   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~   -                            ..  -   ~~   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~ --- ... H      ..   : 3------------2  ~~~  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~ -    ...  :           -              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~ -:::             : ----    ~~~~~    ~~    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~  5-------------- .. -       ~~~~~~~~~~  :H   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~             :: -----4   ...  ~~~~~~~~~  .    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~     .....    -        ...      ~~~~~~   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~    ...    --H ~~~           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~            ~~~ H ::   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n"""\r\n\r\n\r\n[F-1]\r\nworld="F"\r\nid=1\r\nname="Typical Beginnings"\r\n\r\nmusic="grassland"\r\nspecial=[]\r\nbackground="hills"\r\ntilemap = """\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=----------------------------------------------------------------------------------=\r\n=------------------------------------------------------------------------==--------=\r\n=------------------------------------------------------------------------==~~~======\r\n=-----------------------------------------------------------------------------======\r\n=--------------------------------------------------------------------------------===\r\n=------------------------------------------------------------=========-------------=\r\n=-----------------------------------------------------------===========------------=\r\n=-----------------------------------------------------------===========---CC-------=\r\n=------------------------------------------------------------===========-----------=\r\n=-----------------------------------000-------------------------========-----------=\r\n=----------------------------------0------------------------------======-----CCC---=\r\n=----------000--------------------0--=========~~~~====xxx====-=-=-=====------------=\r\n=------------------------------------======--------=========-----------------------=\r\n=----------x??x----------------------====-----------=======---------------------PP-=\r\n=----------------------------0---========------------======--00000000-----PP----PP-=\r\n=-------------------------000---=========-G---------=======--00000000--PP-PP----PP-=\r\n=---@->------------------------============================------------PP-PP-------=\r\n=============================================================================------=\r\n=============================================================================------=\r\n=============================================================================######=\r\n"""\r\n\r\n[F-2]\r\nworld="F"\r\nid=2\r\nname="Debug Land"\r\n\r\nmusic="athletic"\r\nspecial=["floating"]\r\ndebug=true\r\nbackground="clouds"\r\ntilemap = """\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-------------------------------------------=\r\n=-----------------@-------------------------=\r\n=---------------xxxxxx----------------------=\r\n=----------------------------------x--x-----=\r\n=------------------------x----x-------------=\r\n=--------?---------------xxxxxxxxxxxxxx-----=\r\n=-------------------------------x-----------=\r\n=-------------------------------x-----------=\r\n=-----xxxxxxxxx-------->--------x-----------=\r\n=---------------------xxx*****xxx-----------=\r\n=---------------xxxxxxx---------------------=\r\n=-------------------xxx---------------------=\r\n=-------------------------------------------=\r\n=--======================-----============--=\r\n=--======================-----============--=\r\n=##======================-----============##=\r\n"""\r\n';
},{}],12:[function(require,module,exports){"use strict";function sign(n){return n>0?1:n<0?-1:0}function rnd(min,max){return Math.floor(Math.random()*max)+min}function tint(img,colour){var operation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source-in",alpha=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height;var ctx=canvas.getContext("2d");if(!ctx)throw new TypeError("Failed to get new canvas context.");ctx.drawImage(img,0,0),ctx.globalCompositeOperation=operation,ctx.globalAlpha=alpha,ctx.fillStyle=colour,ctx.fillRect(0,0,canvas.width,canvas.height);var res=new Image;return res.src=canvas.toDataURL(),res}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign=sign,exports.rnd=rnd,exports.tint=tint;var toml=require("toml");exports.levels=toml.parse(require("./levels.toml"))},{"./levels.toml":11,toml:2}]},{},[10]);
//# sourceMappingURL=index.js.map
